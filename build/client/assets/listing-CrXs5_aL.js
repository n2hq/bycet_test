import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as d,L as _,u as ne}from"./components-CqyJs_9b.js";import{u as xe,R as ie,G as he}from"./RatingContext--d__wh-8.js";import{S as me}from"./SearchLayout-D-gfsYXN.js";import{u as $}from"./SliderContext-An45yPTx.js";import{bM as ue,f as S,bN as fe,Q as V,B as L,g as W,aY as F,e as ve,y as pe,aq as X,m as Q,k as Y,aB as je,bp as Ne,b5 as we,aD as be,br as ye,bO as _e,bP as Se,bQ as ke,bR as ge,bS as Be,bT as Le,p as Pe,aP as T,aQ as E,a as Ce,an as Te,ao as Ee,ap as Re,bU as Me,o as z}from"./lib-d-OCgvip.js";import{u as Ae}from"./AuthContext-BH94oN1s.js";import{u as q,a as J,W as K,S as De,F as Ge}from"./ShareDialogContext-gwxz-bZ_.js";import{A as R,R as M}from"./RatingBoxInfoCard-C90skG7G.js";import{u as Z}from"./VideoSliderContext-BnTTQ1gy.js";import{u as H,P as Ie}from"./ProductSliderContext-DWZwJo3M.js";import"./zod-DwrW5z8F.js";import"./NotificationContext-CJEyd20o.js";import"./OperationContext-BdFCpeXF.js";import"./types-DBTFAyTi.js";import"./FooterAlt-CPMCCmns.js";import"./MainNav-oY7cNyR2.js";import"./index-CTCnFI3k.js";import"./LeftNav-Cj9_gra7.js";const ze=({images:s,listing:l})=>{const[r,o]=d.useState(!1),n=$(),h=xe(),[c,i]=d.useState([]);d.useEffect(()=>{o(!0)},[]),d.useEffect(()=>{s===null||s.length===0||i(s)},[s]);const t=(u,f)=>{u<f.length&&(n.setDialog(!0),n.setSelectedSlide(u+1),n.setGallery(f),n.setListing(l))},x=u=>{h.setShow(!0),h.setGallery(s),h.setListing(l)};return e.jsxs("div",{className:"mt-6 h-[350px] rounded-[40px] overflow-hidden bg-gray-600 relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400 font-extralight text-sm",children:l==null?void 0:l.title}),e.jsx(Oe,{showGallery:x}),(c==null?void 0:c.length)>0&&e.jsxs("div",{className:"relative  h-full bg-white",children:[r&&(c==null?void 0:c.length)===1&&e.jsx(w,{imgs:c,index:0,showCarousel:t}),r&&(c==null?void 0:c.length)===2&&e.jsxs("div",{className:"grid grid-cols-12 gap-2 h-full",children:[e.jsx("div",{className:`col-span-7
                    row-span-2 overflow-hidden
                    relative cursor-pointer`,children:e.jsx(w,{imgs:c,index:0,showCarousel:t})}),e.jsx("div",{className:"col-span-5 row-span-2 overflow-hidden relative cursor-pointer h-full",children:e.jsx(w,{imgs:c,index:1,showCarousel:t})})]}),r&&(c==null?void 0:c.length)===3&&e.jsxs("div",{className:"grid grid-cols-12 gap-2 h-full",children:[e.jsx("div",{className:`col-span-7
                    row-span-2 overflow-hidden
                    relative cursor-pointer`,children:e.jsx(w,{imgs:c,index:0,showCarousel:t})}),e.jsx("div",{className:"col-span-5 overflow-hidden relative cursor-pointer h-full",children:e.jsx(w,{imgs:c,index:1,showCarousel:t})}),e.jsx("div",{className:"col-span-5 overflow-hidden relative cursor-pointer h-full",children:e.jsx(w,{imgs:c,index:2,showCarousel:t})})]}),r&&c.length===4&&e.jsxs("div",{className:"grid grid-cols-12 grid-rows-2 h-full gap-1.5",children:[e.jsx("div",{className:"col-span-5 row-span-2 relative overflow-hidden",children:e.jsx(w,{imgs:c,index:0,showCarousel:t})}),e.jsx("div",{className:"col-span-4 row-span-2 relative overflow-hidden",children:e.jsx(w,{imgs:c,index:1,showCarousel:t})}),e.jsx("div",{className:"col-span-3 row-span-1 relative overflow-hidden",children:e.jsx(w,{imgs:c,index:2,showCarousel:t})}),e.jsx("div",{className:"col-span-3 row-span-1 relative overflow-hidden",children:e.jsx(w,{imgs:c,index:3,showCarousel:t})})]}),r&&c!==null&&c.length>4&&e.jsxs("div",{className:"grid h-full grid-cols-4 grid-rows-2 gap-1.5",children:[e.jsx("div",{className:"col-span-2 row-span-2 relative",children:e.jsx(w,{imgs:c,index:0,showCarousel:t})}),e.jsx("div",{className:"relative",children:e.jsx(w,{imgs:c,index:1,showCarousel:t})}),e.jsx("div",{className:"relative",children:e.jsx(w,{imgs:c,index:2,showCarousel:t})}),e.jsx("div",{className:"relative",children:e.jsx(w,{imgs:c,index:3,showCarousel:t})}),e.jsx("div",{className:"relative",children:e.jsx(w,{imgs:c,index:4,showCarousel:t})})]})]})]})},w=({index:s,imgs:l,showCarousel:r})=>{const[o,n]=d.useState(!1),h=async()=>{await new Promise(c=>setTimeout(c,1e3)),n(!0)};return d.useEffect(()=>{h()},[]),e.jsxs("div",{className:` overflow-hidden  
                    relative cursor-pointer w-full h-full`,onMouseDown:c=>{r&&!l[0].default&&r(s,l)},children:[e.jsx("div",{className:"w-full h-[30%] absolute bottom-0 left-0 right-0 bg-gradient-to-b from-transparent to-black/70 z-[2] rounded-xl"}),e.jsx("div",{className:"relative w-full h-full rounded-xl",children:e.jsx("img",{src:l[s].default?l[s].image_url:S.IMG_BASE_URL+l[s].image_url,alt:"",className:"object-cover w-full h-full"})})]})},Oe=({showGallery:s})=>e.jsx("div",{className:"absolute bottom-5 z-[5] right-5 group",onMouseDown:l=>s&&s(0),children:e.jsxs("div",{className:"w-fit px-4 py-2 bg-white rounded-lg group-hover:underline cursor-pointer flex place-items-center gap-2",children:[e.jsx(ue,{className:"text-2xl"}),e.jsx("span",{className:"font-semibold text-lg",children:"Show Gallery"})]})}),ee=({listing:s,reviewContext:l})=>{const[r,o]=d.useState();q();const n=Ae();d.useEffect(()=>{s&&o(s)},[s]);const h=()=>{if(!(n!=null&&n.user))return alert("Sign in to Write a Review."),!1;l==null||l.showDialog(!0),l==null||l.setListing(s)};return e.jsx("div",{className:"text-lg underline text-black flex gap-3 place-items-center",children:e.jsx("div",{className:"cursor-pointer",onClick:()=>h(),children:"Write Review"})})},Ue=({shareContext:s,listing:l,profileImg:r,profileImageData:o})=>{const[n,h]=d.useState(!1);J();const c=()=>{s==null||s.setShow(!0),s==null||s.setListing(l),s==null||s.setProfileImg(r),s==null||s.setProfileImageData(o)};return e.jsxs("div",{children:[e.jsx($e,{showShare:n}),e.jsxs("div",{className:"flex place-items-center gap-1  rounded-full pl-2 pr-4 py-2  underline cursor-pointer bg-[#D2B48C]/40  hover:bg-[#D2B48C]/20",onClick:()=>c(),children:[e.jsx(fe,{className:"text-xl"}),e.jsx("span",{className:"text-lg",children:"Share"})]})]})},$e=({showShare:s})=>{const[l,r]=d.useState(!1);return d.useEffect(()=>{s&&r(s)},[s]),e.jsx("div",{})},Ve=({listing:s,ratingsData:l,reviewContext:r,showShare:o,shareContext:n,profileImg:h,profileImageData:c})=>{const[i,t]=d.useState();return d.useEffect(()=>{l&&t(l)},[l]),e.jsxs("div",{className:"flex place-content-between place-items-center relative",children:[e.jsx("div",{className:"text-[24px] font-semibold text-center leading-[1.3em]  text-gray-700 line-clamp-1 w-auto tracking-tight",children:s.title}),e.jsxs("div",{className:" place-items-center gap-4 flex relative top-1 w-fit",children:[e.jsx(K,{children:e.jsx(ee,{listing:s,reviewContext:r})}),e.jsx(De,{children:e.jsx(Ue,{shareContext:n,listing:s,profileImg:h,profileImageData:c})})]})]})},se=d.createContext(null),A=()=>{const s=d.useContext(se);return s||null},P=({children:s})=>{const[l,r]=d.useState(!1),[o,n]=d.useState(""),[h,c]=d.useState("");let i={setDescription:n,setShow:r,setTitle:c};return e.jsxs(se.Provider,{value:i,children:[e.jsx("div",{children:l&&e.jsxs("div",{className:"fixed top-0 left-0 w-full right-0 bg-black/40 z-[4000] h-full flex place-items-center place-content-center",onClick:()=>r(!1),children:[e.jsx(We,{setShow:r}),e.jsxs("div",{className:"max-w-[660px] min-h-[50%] max-h-[80%]  mx-auto w-full bg-white rounded-[40px] px-[32px] py-16 relative",onClick:t=>t.stopPropagation(),children:[e.jsx("div",{className:"absolute top-8 right-8 text-3xl border-[2px] rounded-xl border-gray-500/20 w-[40px] h-[40px] shadow-sm flex place-items-center place-content-center text-gray-500 cursor-pointer hover:bg-gray-100 hover:border-gray-200/50",onClick:()=>r(!1),children:e.jsx(V,{})}),e.jsx("div",{className:"text-2xl",children:h}),e.jsxs("div",{className:" whitespace-pre-wrap mt-6 max-h-[300px] overflow-y-auto",children:[o,e.jsx("div",{className:"h-[60px]"})]})]})]})}),s]})},We=({setShow:s})=>e.jsx("div",{onClick:()=>s(!1),children:e.jsx("div",{className:"w-[30px] h-[30px] flex place-items-center place-content-center rounded-full absolute top-2 left-2 bg-white text-[25px] font-bold transition-all ease-in-out duration-700 cursor-pointer hover:bg-white/40",children:e.jsx(L,{})})}),Fe=({listing:s})=>{const[l,r]=d.useState(""),[o,n]=d.useState(W.fallbackImg),[h,c]=d.useState(!1);d.useEffect(()=>{s.gid&&F(s.gid).then(u=>{(u==null?void 0:u.image_url)===""||(u==null?void 0:u.image_url)===void 0||(u==null?void 0:u.image_url)===null?(r(o),c(!0)):r(S.IMG_BASE_URL+u.image_url)})},[s]);const i=A(),t=x=>{i==null||i.setDescription(x),i==null||i.setShow(!0),i==null||i.setTitle("About this business")};return e.jsxs("div",{className:"mt-12 border-t py-10",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-bold",children:"About"}),e.jsxs("div",{className:"flex place-items-center gap-x-3 mt-4",children:[e.jsx("div",{className:"relative w-[50px] h-[50px] rounded-2xl overflow-hidden border",children:h?e.jsx(R,{title:s==null?void 0:s.title}):e.jsx("img",{src:l,alt:"",className:"object-cover w-full h-full"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-lg font-semibold",children:s.title}),e.jsx("div",{className:"text-black font-semibold text-[10px] uppercase",children:ve(s.category)})]})]}),e.jsx("div",{className:"text-[15px] text-gray-700 mt-6 font-light",children:s.short_description}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>t(s==null?void 0:s.long_description),className:"px-5 py-3 bg-[#895129]/20 text-[15px] w-full md:w-fit rounded-2xl",children:"Read more"})})]})};function le(s){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]},{tag:"path",attr:{d:"M16 18h6"},child:[]},{tag:"path",attr:{d:"M19 15v6"},child:[]}]})(s)}const Xe=({listing:s,reportTime:l,operatingHoursStatus:r})=>{const[o,n]=d.useState(""),[h,c]=d.useState();return d.useEffect(()=>{if(s){let i="";s.address_one&&(i+=s.address_one+", "),s.address_two&&(i+=s.address_two+", "),s.city_name&&(i+=s.city_name+" "),s.zipcode&&(i+=s.zipcode+" "),s.country_name&&(i+=s.country_name),n(i)}},[s]),d.useEffect(()=>{if(s){let i=[],t={title:"Website",url:(s==null?void 0:s.website)||"#",icon:e.jsx(X,{})},x={title:"Phone",url:`tel:${s==null?void 0:s.phone}`||"#",icon:e.jsx(Q,{})},u={title:"Email",url:`mailto:${s==null?void 0:s.email_address}`||"#",icon:e.jsx(Y,{})};i.push(t),i.push(x),i.push(u),c(i)}},[s]),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-[22px] md:text-[25px] font-bold",children:["Welcome to",e.jsx("i",{children:"!"})]}),e.jsx("div",{className:" font-light text-[15px] -mt-1 underline",children:s==null?void 0:s.title})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex place-items-center gap-3",children:[e.jsx("span",{className:"text-[15px] font-semibold",children:l.openStatusObject}),e.jsx(_,{to:"#workinghours",children:e.jsx("span",{className:"text-[15px] font-light border-b border-gray-500",children:"See all hours"})})]}),e.jsx("div",{className:"mt-4",children:r==null?void 0:r.localTimeText}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex place-items-center gap-3",children:[e.jsx(le,{className:"text-3xl"}),e.jsx("div",{className:" border-b border-gray-300 w-fit text-[14px]",children:o})]})}),e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"flex place-items-center gap-5",children:h==null?void 0:h.map((i,t)=>e.jsx("div",{children:e.jsx(_,{to:i.url,children:e.jsxs("div",{className:"flex place-items-center gap-2",children:[e.jsx("div",{className:"text-2xl",children:i.icon}),e.jsx("div",{className:"text-[15px] underline",children:i.title})]})})},t))})})]})]})},O=({listing:s,operatingHoursStatus:l,workTimeStatusObject:r})=>{const[o,n]=d.useState(""),[h,c]=d.useState(""),[i,t]=d.useState(null),[x,u]=d.useState(""),[f,m]=d.useState(void 0),j=(a,p)=>{if(a==="Closed"||p=="Closed")return"Closed";{const N=parseInt(a),g=parseInt(p),B=N<12?"AM":"PM",D=g<12?"AM":"PM";return`${a} ${B} - ${p} ${D}`}},b=a=>{const p=[];u(a==null?void 0:a.open_status),a!=null&&a.monday_from&&(a!=null&&a.monday_to)&&p.push({day:"Monday",hours:j(a==null?void 0:a.monday_from,a==null?void 0:a.monday_to)}),a!=null&&a.tuesday_from&&(a!=null&&a.tuesday_to)&&p.push({day:"Tuesday",hours:j(a==null?void 0:a.tuesday_from,a==null?void 0:a.tuesday_to)}),a!=null&&a.wednesday_from&&(a!=null&&a.wednesday_to)&&p.push({day:"Wednesday",hours:j(a==null?void 0:a.wednesday_from,a==null?void 0:a.wednesday_to)}),a!=null&&a.thursday_from&&(a!=null&&a.thursday_to)&&p.push({day:"Thursday",hours:j(a==null?void 0:a.thursday_from,a==null?void 0:a.thursday_to)}),a!=null&&a.friday_from&&(a!=null&&a.friday_to)&&p.push({day:"Friday",hours:j(a==null?void 0:a.friday_from,a==null?void 0:a.friday_to)}),a!=null&&a.saturday_from&&(a!=null&&a.saturday_to)&&p.push({day:"Saturday",hours:j(a==null?void 0:a.saturday_from,a==null?void 0:a.saturday_to)}),a!=null&&a.sunday_from&&(a!=null&&a.sunday_to)&&p.push({day:"Sunday",hours:j(a==null?void 0:a.sunday_from,a==null?void 0:a.sunday_to)}),t(p)};d.useEffect(()=>{s&&(n(s==null?void 0:s.gid),c(s==null?void 0:s.owner))},[s]),d.useEffect(()=>{o!==""&&h!==""&&(async(p,N)=>await je(p,N))(o,h).then(p=>{p&&b(p)})},[o,h]),d.useEffect(()=>{l!==void 0&&m(l)},[l]);const[y,k]=d.useState(null),v=()=>{switch(x){case"no_hours":return e.jsx("div",{children:"No hours set."});case"always_open":return e.jsx("div",{children:"Business is always open"});case"permanently_closed":return e.jsx("div",{children:"Permanently Closed"});case"temporarily_closed":return e.jsx("div",{children:"Temporarily Closed"});case"selected_hours":return i!==null&&x==="selected_hours"&&(i==null?void 0:i.map((a,p)=>e.jsxs("div",{className:"grid grid-cols-12 place-items-start text-[14px] py-2 w-full",children:[e.jsx("div",{className:"w-full font-semibold col-span-4",children:a.day}),e.jsxs("div",{className:"text-right w-full col-span-8 flex gap-1 place-content-end place-items-center",children:[e.jsx("span",{className:"text-[12px]",children:a!=null&&a.hours.includes("Closed")?"Closed":String(a==null?void 0:a.day).startsWith(f.today)&&(f.isOpen?"Open Now":"Closed Now")}),e.jsx("span",{children:a.hours})]})]},p)));default:return e.jsxs("div",{children:[e.jsx("div",{children:"This business has no set hours. "}),e.jsx("div",{className:"text-gray-500",children:"Assume: 8:30AM - 5:30PM"}),(s==null?void 0:s.phone)!==null&&(s==null?void 0:s.phone)!==void 0&&(s==null?void 0:s.phone)!==""&&e.jsx("div",{className:"text-sm mt-2",children:e.jsx(_,{to:`tel:${s==null?void 0:s.phone}`,children:e.jsxs("div",{children:["Contact directly: ",s==null?void 0:s.phone]})})})]})}};return e.jsx("div",{id:"workinghours",className:"w-full",children:e.jsxs("div",{className:"border border-gray-100 px-5 pt-7 pb-7 rounded-xl  shadow-lg shadow-gray-200",children:[e.jsxs("div",{className:"flex place-content-between w-full ",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold",children:"Hours"}),e.jsxs("div",{className:"flex place-items-center gap-1",children:[e.jsx(Ge,{}),e.jsx("div",{className:"underline text-[13px]",children:"Suggest an edit"})]})]}),e.jsxs("div",{className:"flex place-items-center mt-2 text-[15px] font-normal gap-1",children:[e.jsx("span",{children:r}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:"Check timing below."})]}),e.jsx("div",{className:"mt-6",children:v()})]})})},Qe=({listing:s})=>{const[l,r]=d.useState(void 0),o=A();d.useEffect(()=>{const h=async c=>{const i=await Ne(s==null?void 0:s.gid);console.log(i),r(i)};s!=null&&s.gid&&h(s==null?void 0:s.gid)},[s==null?void 0:s.gid]);const n=(h,c)=>{o==null||o.setDescription(h),o==null||o.setTitle(c),o==null||o.setShow(!0)};return e.jsxs("div",{className:"mt-12 border-t py-10",children:[e.jsx("div",{className:"text-[22px] md:text-[25px]  font-semibold ",children:"What this business offers"}),e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-2 w-full gap-x-4 gap-y-6",children:(l==null?void 0:l.length)>0&&(l==null?void 0:l.map((h,c)=>e.jsx("div",{onClick:()=>n(h==null?void 0:h.facility_description,`${h==null?void 0:h.facility_name} information`),children:e.jsx("div",{className:"hover:underline cursor-pointer text-lg",children:h==null?void 0:h.facility_name})})))})})]})},Ye=({listing:s})=>{const[l,r]=d.useState(""),[o,n]=d.useState(""),[h,c]=d.useState("");return d.useEffect(()=>{s!==null&&(async t=>{let x=t==null?void 0:t.title;x+=t!=null&&t.address_one?", "+(t==null?void 0:t.address_one):"",x+=t!=null&&t.address_two?", "+(t==null?void 0:t.address_two):"",x+=t!=null&&t.city_name?", "+(t==null?void 0:t.city_name):"",x+=t!=null&&t.state_name?", "+(t==null?void 0:t.state_name):"",x+=t!=null&&t.zipcode?", "+(t==null?void 0:t.zipcode):"",x+=t!=null&&t.country_code?", "+(t==null?void 0:t.country_code):"";let u=`https://www.google.com/maps?q=${x}&t=&z=15&ie=UTF8&iwloc=B&output=`;r(x),n(u);let f="",m=t==null?void 0:t.country_name;console.log(t==null?void 0:t.city_name),(t==null?void 0:t.city_name)!==null&&(f=(t==null?void 0:t.city_name)+", "),t!=null&&t.country_name&&(m=t==null?void 0:t.country_name);let j=f+m;c(j)})(s)},[s]),e.jsx("div",{className:"mt-12 border-t",children:e.jsxs("div",{className:"my-10",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold",children:"Location"}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 h-[200px]",children:[e.jsx("div",{className:"col-span-6 rounded-xl overflow-hidden border border-gray-300",children:e.jsx("div",{className:"relative h-full w-full",children:e.jsx("img",{src:"https://m.media-amazon.com/images/I/81WGuaolxhL._AC_SL1500_.jpg",alt:"",className:" object-center object-cover w-full h-full"})})}),e.jsxs("div",{className:"col-span-6",children:[e.jsxs("div",{className:"flex gap-3 place-items-start hover:underline hover:cursor-pointer",children:[e.jsx("div",{children:e.jsx(le,{className:"text-3xl"})}),e.jsx("div",{children:e.jsx(_,{to:o,target:"_blank",children:e.jsxs("div",{className:"flex place-items-center",children:[e.jsx("div",{className:"font-semibold hover:underline text-[14px]",children:l}),e.jsx("div",{children:e.jsx(we,{className:"text-4xl"})})]})})})]}),e.jsxs("div",{className:"flex mt-6 place-items-center gap-4 ",children:[e.jsx("div",{className:"text-3xl",children:e.jsx(be,{})}),e.jsx("div",{className:"font-semibold text-[14px]",children:h})]}),e.jsx("div",{className:"mt-12",children:e.jsx(_,{to:o,target:"_blank",children:e.jsx("button",{className:"bg-gray-200 px-4 py-3 rounded-full w-32 hover:shadow-md hover:shadow-gray-400 transition-all ease-out duration-500 outline-none",children:"Map"})})})]})]})})]})})};let C=[{title:"Overall Rating",score:"0",icon:e.jsx(ye,{className:""})},{title:"Quality",score:"0",icon:e.jsx(_e,{})},{title:"Customer Service",score:"0",icon:e.jsx(Se,{})},{title:"Communication",score:"0",icon:e.jsx(ke,{})},{title:"Value",score:"0",icon:e.jsx(ge,{})},{title:"Overall Satisfaction",score:"0",icon:e.jsx(Be,{})}];const qe=({businessRating:s,listing:l})=>{const[r,o]=d.useState(null);d.useEffect(()=>{s&&(o(s),console.log(s))},[s]);const[n,h]=d.useState(C);return d.useEffect(()=>{var c,i,t,x,u,f;if(r){console.log(r);let m=C;m[0].score=((c=r==null?void 0:r.avg_rating)==null?void 0:c.toString())||"",m[1].score=(i=r==null?void 0:r.avg_quality)==null?void 0:i.toString(),m[2].score=(t=r==null?void 0:r.avg_customer_service)==null?void 0:t.toString(),m[3].score=(x=r==null?void 0:r.avg_communication)==null?void 0:x.toString(),m[4].score=(u=r==null?void 0:r.avg_value)==null?void 0:u.toString(),m[5].score=(f=r==null?void 0:r.avg_overall_satisfaction)==null?void 0:f.toString(),h(m),console.log(C)}},[r]),e.jsxs("div",{className:"mt-24",children:[e.jsx("div",{className:" border-t border-gray-300 mb-20"}),e.jsx("div",{className:"text-center text-5xl font-semibold",children:r?r.avg_rating:e.jsxs("span",{children:["Oops",e.jsx("i",{children:"!"})," No rating yet.'"]})}),e.jsxs("div",{className:"mt-6 flex place-items-center flex-col gap-y-2",children:[e.jsx("div",{className:"text-2xl font-semibold",children:l==null?void 0:l.title}),e.jsx("div",{className:"max-w-[800px] mx-auto w-full text-center text-[15px] font-light mt-6",children:l==null?void 0:l.short_description})]}),e.jsx("div",{className:"mt-20",children:e.jsx("div",{className:"max-w-[1100px] mx-auto w-full",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 place-content-between ",children:n==null?void 0:n.map((c,i)=>e.jsxs("div",{className:"flex flex-col gap-y-3 p-5 border rounded-xl  relative h-auto shadow-lg shadow-gray-200/50",children:[e.jsx("div",{className:"text-[15px] font-base leading-[1.1em] font-semibold text-gray-800 ",children:c.title}),e.jsxs("div",{className:"text-3xl flex flex-col grow w-full text-start place-content-end gap-y-1",children:[e.jsx("div",{className:` ${r?"text-[16px]":"text-[13px]"} `,children:Number(c==null?void 0:c.score)!==0?c==null?void 0:c.score:"No Rating"}),e.jsx("div",{className:"text-cyan-500 text-3xl",children:c.icon})]})]},i))})})}),e.jsx("div",{className:"mt-20 border-t"})]})},Je=({businessReviews:s})=>e.jsx("div",{className:"my-16",children:e.jsx("div",{className:"grid md:grid-cols-2 gap-16",children:s==null?void 0:s.map((l,r)=>{const o=Le(l.created_at);return e.jsx("div",{children:e.jsx(_,{to:"/",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex place-items-start gap-3",children:[e.jsx("div",{className:"relative h-[40px] w-[40px] rounded-full overflow-hidden",children:e.jsx("img",{src:l.img||"/images/pcho.png",alt:"",className:"object-cover h-full w-full"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold",children:`${l.firstname} ${l.lastname}`}),e.jsxs("div",{children:[l.city_name&&l.city_name+", ",l.country_name]}),e.jsx("div",{className:"flex place-items-center",children:e.jsxs("div",{className:"text-[15px] flex place-items-center gap-2",children:[e.jsx(M,{rating:Number(l.avg_rating)}),e.jsx("span",{children:l.avg_rating})]})})]})]}),e.jsx("div",{className:"flex place-items-center gap-3 mt-2",children:e.jsx("div",{children:o})}),e.jsx("div",{className:"text-[14px] font-light mt-2",children:l.experience})]})})},r)})})}),Ke=({related:s})=>{const l=d.useRef(null),r=()=>{l.current&&l.current.scrollBy({left:-300,behavior:"smooth"})},o=()=>{l.current&&l.current.scrollBy({left:300,behavior:"smooth"})};return e.jsx("div",{className:"border-t py-10",children:e.jsxs("div",{className:"",children:[e.jsx("div",{className:"text-[19px] font-semibold",children:"Related Businesses"}),e.jsxs("div",{className:"mt-6 relative",children:[e.jsx("div",{ref:l,className:"flex place-items-start overflow-x-hidden  gap-4 rounded-xl  h-[300px]",children:e.jsx("div",{className:"flex gap-3",children:s==null?void 0:s.map((n,h)=>{let c=S.BASE_URL+"/"+((n==null?void 0:n.username)||(n==null?void 0:n.gid)),i="",t="";return n!=null&&n.bg_image_url_ext?i=n==null?void 0:n.bg_image_url_ext:n!=null&&n.profile_image_url_ext&&(i=n==null?void 0:n.profile_image_url_ext),t=S.IMG_BASE_URL+i,console.log(t),e.jsx("div",{className:"w-[200px] group",children:e.jsxs(_,{to:c,children:[e.jsx("div",{className:"relative w-full h-[180px]  rounded-3xl overflow-hidden border group-hover:shadow-lg",children:i!==""?e.jsx("img",{src:`${t}`,alt:"",className:"object-cover h-full w-full"}):e.jsx(R,{title:n==null?void 0:n.title})}),e.jsxs("div",{className:"mt-2 ",children:[e.jsx("div",{className:"text-[13px] leading-[1.2em] group-hover:underline pl-1 ",children:n.title}),e.jsxs("div",{className:" mt-1",children:[e.jsxs("div",{className:"flex place-items-center gap-2",children:[e.jsxs("div",{className:"text-base flex place-items-center gap-0",children:[e.jsx(Pe,{className:"relative top-[-1px]"}),e.jsx("span",{children:(n==null?void 0:n.avg_rating)||0})]}),e.jsxs("div",{className:"text-base",children:["(",(n==null?void 0:n.count_of_rating)||0,")",e.jsxs("span",{className:"text-[12px] top-[-1px]",children:[" Review",(n==null?void 0:n.count_of_rating)>1&&"s"]})]})]}),e.jsx("div",{})]})]})]})},h)})})}),(s==null?void 0:s.length)>0&&e.jsxs("div",{children:[e.jsx("div",{className:"absolute text-black top-1/3 -translate-y-1/2 left-2 w-[40px] min-w-[40px] h-[40px] bg-white hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded-full z-[5]",onClick:()=>{r()},children:e.jsx(T,{})}),e.jsx("div",{className:"absolute text-black top-1/3 -translate-y-1/2 right-2 w-[40px] min-w-[40px] h-[40px] bg-white hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded-full z-[5] transition-all ease-in-out duration-1000",onClick:()=>{o()},children:e.jsx(E,{})})]})]})]})})},Ze=({nearby:s})=>(console.log(s),console.log("hala"),e.jsx("div",{className:"mt-12",children:e.jsxs("div",{className:"border-t border-gray-200 py-10",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold",children:"Businesses nearby"}),e.jsxs("div",{className:"grid lg:grid-cols-12",children:[e.jsx("div",{className:"lg:col-span-8",children:e.jsx(He,{nearby:s})}),e.jsx("div",{className:"lg:col-span-4"})]})]})})),He=({nearby:s})=>e.jsxs("div",{children:[e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex place-content-between place-items-center",children:[e.jsx("div",{className:"text-[16px] font-semibold",children:"Businesses near here"}),e.jsx("div",{className:"text-[14px] text-right underline",children:"See all"})]})}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:s!==null&&(s==null?void 0:s.map((l,r)=>{var c;let o=S.BASE_URL+"/"+((l==null?void 0:l.username)||(l==null?void 0:l.gid)),n="";l!=null&&l.bg_image_url_ext?n=l==null?void 0:l.bg_image_url_ext:l!=null&&l.profile_image_url_ext?n=l==null?void 0:l.profile_image_url_ext:n="";let h=((c=S)==null?void 0:c.IMG_BASE_URL)+n;return e.jsx("div",{children:e.jsx(_,{to:o,children:e.jsxs("div",{className:"flex gap-x-4",children:[e.jsx("div",{className:"w-[95px] min-w-[95px] h-[100px] relative rounded-2xl overflow-hidden",children:n===""?e.jsx(R,{title:l==null?void 0:l.title}):e.jsx("img",{src:h,alt:"",className:"object-cover w-full h-full"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[15px] font-semibold leading-[1.2em]",children:l.title}),e.jsxs("div",{className:"flex place-items-center gap-2 mt-2 text-[14px] text-gray-500",children:[e.jsxs("div",{className:"flex place-items-center gap-1",children:[e.jsx(M,{rating:Number(l.avg_rating)}),(l==null?void 0:l.avg_rating)||0]}),e.jsxs("div",{children:["(",(l==null?void 0:l.count_of_rating)||0,") reviews"]})]})]})]})})},r)}))})})]}),es=[{img:"https://r4.wallpaperflare.com/wallpaper/791/501/238/new-york-city-buildings-wallpaper-51351344a10dae2b3cd90e3cb71d503d.jpg"},{img:"https://c0.wallpaperflare.com/path/494/492/40/signage-brand-cyan-yellow-5d1465fafe2d1f3e8deff1bbe07c71ce.jpg"}],ss=({images:s,listing:l})=>{const[r,o]=d.useState(0),n=d.useRef(0);d.useRef(0);const h=$(),[c,i]=d.useState(es);let t=d.useRef(null);const x=async()=>{t.current&&clearTimeout(t.current),y(),t.current=setTimeout(()=>{},15e3)},u=async()=>{t.current&&clearTimeout(t.current),b(),t.current=setTimeout(()=>{},15e3)},f=v=>{n.current=v.touches[0].clientX},m=v=>{const a=v.changedTouches[0].clientX,p=n.current-a;p>50?o(N=>(N+1)%c.length):p<-50&&o(N=>(N-1+c.length)%c.length)},j=v=>{v<(c==null?void 0:c.length)&&(h.setDialog(!0),h.setSelectedSlide(v+1),h.setGallery(c),h.setListing(c))},b=()=>{o(v=>v===0?c.length-1:v-1)},y=()=>{o(v=>v===c.length-1?0:v+1)};d.useEffect(()=>{s&&i(s)},[s]);const k=(v,a)=>{v[0].default||j(a)};return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:" w-full h-[430px] md:h-[500px] flex overflow-hidden  ",children:c==null?void 0:c.map((v,a)=>e.jsxs("div",{className:`h-full w-full relative block flex-shrink-0 flex-grow-0 transition-transform 
                      ease-in-out duration-1000 cursor-pointer`,style:{transform:`translateX(-${r*100}%)`},children:[e.jsx("div",{className:"absolute  left-0 right-0 bottom-0 h-[30%]  w-full bg-gradient-to-b from-transparent to-gray-800"}),e.jsxs("div",{className:"absolute bottom-5 w-full text-center text-white",children:[e.jsxs("div",{children:[a+1," / ",c.length]}),e.jsx("div",{className:"max-w-[80%] mx-auto w-full line-clamp-1 text-center text-sm font-light mt-2",children:v==null?void 0:v.image_title})]}),e.jsx("img",{onTouchStart:f,onTouchEnd:m,onMouseDown:p=>{k(s,a)},src:v!=null&&v.default?v==null?void 0:v.image_url:S.IMG_BASE_URL+(v==null?void 0:v.image_url),alt:"",className:"object-cover w-full h-full "},a)]},a))}),e.jsxs("div",{className:"z-[50]",children:[e.jsx("button",{onMouseDown:u,className:"block absolute top-0 bottom-0 z-[5] p-[1rem] cursor-pointer left-0 group h-full transition duration-1000 ease-in-out",children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
                       flex place-content-center place-items-center group-hover:bg-white/30
                        z-[300] transition duration-500 ease-in-out`,children:e.jsx(L,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("button",{onMouseDown:x,className:`block absolute top-0 bottom-0 
                                                                    z-[5]    p-[1rem] cursor-pointer right-0 group 
                                                                         transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
                        flex place-content-center place-items-center group-hover:bg-white/30
                        z-[300]   transition duration-500 ease-in-out
                        `,children:e.jsx(Ce,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})})]})]})},ls=({title:s,images:l,listing:r})=>{const[o,n]=d.useState([]);return d.useEffect(()=>{l.length===0||n(l)},[l]),e.jsxs("div",{className:"block md:hidden",children:[e.jsxs("div",{className:"bg-gray-700 h-[450px] w-full z-[0]",children:[e.jsx("div",{className:"absolute inset-0 flex items-center -top-20 justify-center text-gray-400 font-extralight text-sm",children:r==null?void 0:r.title}),e.jsx(ss,{images:o,listing:r})]}),e.jsx("div",{className:"px-5 pt-8 pb-5 rounded-t-3xl overflow-hidden bg-white -mt-5 z-[3]",children:e.jsx("div",{className:"text-[25px] font-semibold text-center leading-[1.3em]",children:s})})]})},ce=d.createContext(null);function cs(){const s=d.useContext(ce);return s||null}const ts=({children:s})=>{const[l,r]=d.useState(!1),[o,n]=d.useState(null),[h,c]=d.useState(null),[i,t]=d.useState(null),x=Z(),u=m=>{x.setDialog(!0),x.setSelectedSlide(m+1),x.setGallery(o),x.setListing(h)};let f={setShow:r,setVideoGallery:n,setListing:c,setOutVideo:t};return e.jsxs(ce.Provider,{value:f,children:[l&&e.jsxs("div",{onMouseDown:m=>r(!1),className:`flex w-screen h-screen bg-black/80 
                                   z-[20000] fixed top-0 left-0 right-0 bottom-0
                                   place-items-center place-content-center px-[15px]`,children:[e.jsx("div",{onMouseDown:m=>m.stopPropagation(),className:`w-[95%] sm:w-[85%] md:w-[75%] lg:w-[70%] xl:w-[60%] h-[70%] max-h-[80%] 
                                       mx-auto bg-white rounded-lg shadow-lg shadow-black/50 
                                       space-y-6 z-[3100] overflow-hidden`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"border-b py-3 px-3",children:e.jsxs("div",{className:`font-bold text-gray-700
                                               text-xl w-[80%]  truncate`,children:["Gallery for ",h==null?void 0:h.title]})}),e.jsx("div",{className:` 
                                           h-full overflow-y-auto pt-2 px-2 pb-2
                                           bg-white `,children:e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:Array.isArray(i)&&(i==null?void 0:i.map((m,j)=>e.jsxs("div",{className:"mb-2",onClick:()=>{u(j)},children:[e.jsx("div",{className:`relative hover:cursor-pointer
                                                             h-[80px] md:h-[100px] lg:h-[120px] rounded-md bg-black
                                                            overflow-hidden border-[5px] border-gray-200`,children:e.jsx("img",{className:"object-cover w-full h-full",src:m==null?void 0:m.videoThumbnail,alt:""})}),e.jsx("div",{className:"mx-[2px] text-[13px] leading-[1.2em] line-clamp-2 mt-[3px]",children:m==null?void 0:m.videoTitle})]},j)))})})]})}),e.jsx("div",{onMouseDown:()=>r(!1),className:`w-[30px] h-[30px] z-[300] bg-white
                                           flex place-content-center place-items-center
                                           rounded-full absolute left-2 top-2 cursor-pointer
                                           hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(L,{className:"text-[30px]"})})]}),s]})},as=[{title:"Two More Beers London",star:"4.9",reviews:169,img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2b/c9/bc/33/front-of-the-pub.jpg?w=800&h=-1&s=1"},{title:"Two More Beers London",star:"4.9",reviews:169,img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/31/24/f3/54/exterior.jpg?w=800&h=600&s=1"},{title:"Two More Beers London",star:"4.9",reviews:169,img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/28/54/66/f5/enjoy-a-delicious-drink.jpg?w=800&h=600&s=1"},{title:"Two More Beers London",star:"4.9",reviews:169,img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR9lJXEfx_-xLm-T_ZTYIERDH5ofKPB0YGXtQ&s"},{title:"Two More Beers London",star:"4.9",reviews:169,img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2e/53/cc/5c/main-room.jpg?w=800&h=600&s=1"},{title:"Two More Beers London",star:"4.9",reviews:169,img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/27/ab/49/bd/bow-bar.jpg?w=800&h=600&s=1"},{title:"Two More Beers London",star:"4.9",reviews:169,img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2e/0d/4d/76/outside-front-of-pub.jpg?w=800&h=600&s=1"}],rs=({videoGallery:s,listing:l})=>{const r=d.useRef(null),[o,n]=d.useState(null),[h,c]=d.useState(as),[i,t]=d.useState(!1),[x,u]=d.useState(null),f=Z(),m=cs(),[j,b]=d.useState([]),y=()=>{r.current&&r.current.scrollBy({left:-300,behavior:"smooth"})},k=()=>{r.current&&r.current.scrollBy({left:300,behavior:"smooth"})};d.useEffect(()=>{(async N=>{let g=[];N==null||N.map((B,D)=>{const re=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,G=B.video_url.match(re);let I=G?G[1]:null,de=`https://img.youtube.com/vi/${I}/0.jpg`,oe={videoId:I,videoUrl:B.video_url,videoTitle:B.video_title,videoThumbnail:de,videoGuid:B.video_guid};g.push(oe)}),n(g)})(s)},[s]);const v=p=>{console.log(s),f.setDialog(!0),f.setSelectedSlide(p+1),f.setGallery(s),f.setListing(l)},a=()=>{m.setShow(!0),m.setOutVideo(o),m.setListing(l),m.setVideoGallery(s)};return e.jsx("div",{className:"border-t py-10",children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex place-content-between place-items-baseline",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold",children:"Videos"}),e.jsx("div",{className:"underline text-base cursor-pointer w-fit",onClick:()=>a(),children:"Gallery"})]}),e.jsxs("div",{className:"mt-6 relative",children:[e.jsx("div",{ref:r,className:"flex place-items-start w-full overflow-x-hidden gap-4 rounded-xl",children:o==null?void 0:o.map((p,N)=>e.jsxs("div",{onClick:()=>{v(N)},className:"flex flex-col cursor-pointer w-[250px] min-w-[250px] ",children:[e.jsx("div",{className:"relative w-full  h-[180px] min-h-[180px] rounded-xl overflow-hidden",children:e.jsx("img",{src:p.videoThumbnail,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:"mt-4 relative  ",children:e.jsx("div",{className:"text-base leading-[1.2em] line-clamp-3",children:p.videoTitle})})]},N))}),(o==null?void 0:o.length)>0&&e.jsxs("div",{children:[e.jsx("div",{className:"absolute text-black top-1/2 -translate-y-1/2 left-2 w-[40px] min-w-[40px] h-[40px] bg-white hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded-full z-[5]",onClick:()=>{y()},children:e.jsx(T,{})}),e.jsx("div",{className:"absolute text-black top-1/2 -translate-y-1/2 right-2 w-[40px] min-w-[40px] h-[40px] bg-white hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded-full z-[5] transition-all ease-in-out duration-1000",onClick:()=>{k()},children:e.jsx(E,{})})]})]})]})})},te=d.createContext(null);function ds(){const s=d.useContext(te);return s||null}const os=({children:s})=>{const[l,r]=d.useState(!1),[o,n]=d.useState(),[h,c]=d.useState(),[i,t]=d.useState(!1),x=H(),u=m=>{x.setDialog(!0),x.setSelectedSlide(m+1),x.setGallery(o),x.setListing(h)};let f={setProducts:n,setListing:c,setShow:r};return e.jsxs(te.Provider,{value:f,children:[l&&e.jsx("div",{children:e.jsx("div",{className:"fixed bg-black/80 w-screen h-screen top-0 left-0 z-[3000]",children:e.jsxs("div",{className:" w-full h-full flex place-content-center place-items-center",onMouseDown:m=>r(!1),children:[e.jsxs("div",{className:"max-w-[90%] w-full mx-auto bg-white h-[80%] rounded-lg",onMouseDown:m=>m.stopPropagation(),children:[e.jsx("div",{className:" border-b px-5 py-3",children:e.jsxs("div",{className:"flex place-content-between place-items-center",children:[e.jsxs("div",{className:"text-[17px] font-semibold",children:["Products for ",h==null?void 0:h.title]}),e.jsx("div",{className:""})]})}),e.jsx("div",{className:" w-full h-[90%] overflow-y-auto",children:e.jsx("div",{className:"w-full h-auto grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-8 gap-5 px-5 py-5 ",children:o==null?void 0:o.map((m,j)=>e.jsxs("div",{className:" rounded-md block hover:shadow-md hover:cursor-pointer",onClick:()=>{u(j)},children:[e.jsx("div",{className:" w-full h-[150px] relative ",children:e.jsx("img",{src:S.IMG_BASE_URL+m.product_image_url,alt:"",className:" object-cover w-full h-full"})}),e.jsx("div",{className:"mt-3 text-center line-clamp-2 leading-[1.4em]",children:m==null?void 0:m.product_title})]},j))})})]}),e.jsx("div",{onMouseDown:()=>r(!1),className:`w-[30px] h-[30px] z-[300] bg-white
                                                                flex place-content-center place-items-center
                                                                rounded-full absolute left-2 top-2 cursor-pointer
                                                                hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(L,{className:"text-[30px]"})})]})})}),s]})},ns=({listing:s,products:l})=>{const r=d.useRef(null),o=H(),n=ds(),h=()=>{r.current&&r.current.scrollBy({left:-300,behavior:"smooth"})},c=()=>{r.current&&r.current.scrollBy({left:300,behavior:"smooth"})},i=x=>{o.setDialog(!0),o.setSelectedSlide(x+1),o.setGallery(l),o.setListing(s)},t=()=>{n.setShow(!0),n.setListing(s),n.setProducts(l)};return e.jsx("div",{className:"border-t py-10",children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex place-content-between place-items-baseline",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold",children:"Products"}),e.jsx("div",{className:"underline text-base cursor-pointer w-fit",onClick:()=>t(),children:"Gallery"})]}),e.jsxs("div",{className:"mt-6 relative",children:[e.jsx("div",{ref:r,className:"flex place-items-center overflow-x-hidden gap-4 rounded-xl",children:l==null?void 0:l.map((x,u)=>e.jsxs("div",{className:"w-[250px] min-w-[250px] cursor-pointer",onClick:()=>{i(u)},children:[e.jsx("div",{className:"relative w-full h-[180px] rounded-xl overflow-hidden border",children:e.jsx("img",{src:S.IMG_BASE_URL+x.product_image_url,alt:"",className:"object-cover h-full w-full"})}),e.jsxs("div",{className:"mt-4 ",children:[e.jsx("div",{className:"text-[14px] leading-[1.2em]",children:x.product_title}),e.jsxs("div",{className:"mt-2 relative",children:[e.jsxs("div",{className:"text-sm line-clamp-2",children:[x.product_description," reviews among one of the best increases of time."]}),e.jsx("div",{})]})]})]},u))}),(l==null?void 0:l.length)>0&&e.jsxs("div",{children:[e.jsx("div",{className:"absolute text-black top-1/2 -translate-y-1/2 left-2 w-[40px] min-w-[40px] h-[40px] bg-white hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded-full z-[5]",onClick:()=>{h()},children:e.jsx(T,{})}),e.jsx("div",{className:"absolute text-black top-1/2 -translate-y-1/2 right-2 w-[40px] min-w-[40px] h-[40px] bg-white hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded-full z-[5] transition-all ease-in-out duration-1000",onClick:()=>{c()},children:e.jsx(E,{})})]})]})]})})},xs=({listing:s})=>{const[l,r]=d.useState(""),[o,n]=d.useState(null);return d.useEffect(()=>{o!==null&&console.log(o)},[o]),d.useEffect(()=>{s!==null&&(async c=>{const i=[],t=await Te(c==null?void 0:c.gid);t==null||t.map((x,u)=>{const f=x==null?void 0:x.social_media_identifier,m=Ee(f);let j="";m?j=f:j=`${x==null?void 0:x.base_url}${x==null?void 0:x.social_media_identifier}`,i.push({media:x==null?void 0:x.social_media_name,icon:Re(x),name:x==null?void 0:x.social_media_name,link:j})}),c!=null&&c.website&&i.push({media:c==null?void 0:c.website,icon:e.jsx(X,{}),name:"Website",link:`${c==null?void 0:c.website}`}),c!=null&&c.email_address&&i.push({media:c==null?void 0:c.email_address,icon:e.jsx(Y,{}),name:"Email Address",link:`mailto:${c==null?void 0:c.email_address}`}),c!=null&&c.phone&&i.push({media:c==null?void 0:c.phone,icon:e.jsx(Q,{}),name:"Phone",link:`tel:${c==null?void 0:c.phone}`}),n(i)})(s)},[s]),e.jsxs("div",{className:"mt-12 border-t py-10",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold ",children:"Social Media"}),e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-2 w-full gap-4",children:o==null?void 0:o.map((h,c)=>e.jsx("div",{children:e.jsx(_,{to:h.link,children:e.jsxs("div",{className:"py-2.5 flex place-items-center gap-4 group cursor-pointer",children:[e.jsx("div",{className:"text-[19px]",children:h.icon}),e.jsx("div",{className:"text-[15px] cursor-pointer group-hover:underline w-full ",children:h.name})]})})},c))})})]})},ae=d.createContext(null),is=()=>{const s=d.useContext(ae);return s||null},hs=({children:s})=>{const[l,r]=d.useState(!1),[o,n]=d.useState(""),[h,c]=d.useState(""),[i,t]=d.useState("");let x={setDescription:n,setShow:r,setTitle:c,setUrl:t};return e.jsxs(ae.Provider,{value:x,children:[e.jsx("div",{children:l&&e.jsxs("div",{className:"fixed top-0 left-0 w-full right-0 bg-black/40 z-[4000] h-full flex place-items-center place-content-center",onClick:()=>r(!1),children:[e.jsx(ms,{setShow:r}),e.jsxs("div",{className:"max-w-[660px] min-h-[50%] max-h-[80%]  mx-auto w-full bg-white rounded-[40px] px-[32px] pt-12 pb-20 relative",onClick:u=>u.stopPropagation(),children:[e.jsx("div",{className:"absolute top-8 right-8 text-3xl border-[2px] rounded-xl border-gray-500/20 w-[40px] h-[40px] shadow-sm flex place-items-center place-content-center text-gray-500 cursor-pointer hover:bg-gray-100 hover:border-gray-200/50",onClick:()=>r(!1),children:e.jsx(V,{})}),e.jsx("div",{className:"text-3xl",children:"Service Description"}),e.jsx("div",{className:"text-xl mt-6 line-clamp-1",children:h}),e.jsxs("div",{className:" whitespace-pre-wrap mt-6 max-h-[280px] overflow-y-auto",children:[o,e.jsx("div",{className:"h-[30px]"}),i?e.jsxs("div",{children:[e.jsx(_,{to:i,className:"underline",children:"Service Link"}),e.jsx("div",{className:"h-[60px]"})]}):e.jsx("div",{className:"h-[30px]"})]})]})]})}),s]})},ms=({setShow:s})=>e.jsx("div",{onClick:()=>s(!1),children:e.jsx("div",{className:"w-[30px] h-[30px] flex place-items-center place-content-center rounded-full absolute top-2 left-2 bg-white text-[25px] font-bold transition-all ease-in-out duration-700 cursor-pointer hover:bg-white/40",children:e.jsx(L,{})})}),us=({services:s})=>{const l=is(),r=o=>{l==null||l.setShow(!0),l==null||l.setDescription(o.service_description),l==null||l.setTitle(o.service_name),l==null||l.setUrl(o.service_url)};return e.jsxs("div",{className:"mt-12 border-t py-10",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold ",children:"Services"}),e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-2 w-full gap-4",children:s==null?void 0:s.map((o,n)=>e.jsx("div",{onClick:()=>r(o),className:"cursor-pointer ",children:e.jsx("div",{className:"py-2.5 ",children:e.jsxs("div",{className:"flex text-[15px] group place-items-center gap-1",children:[e.jsx("div",{children:n+1}),e.jsx("div",{children:"-"}),e.jsx("div",{className:"text-[15px]  w-full group-hover:underline ",children:o==null?void 0:o.service_name})]})})},n))})})]})},U=()=>e.jsx("div",{className:"w-full mt-12",children:e.jsxs("div",{className:"border border-gray-100 p-5 pt-7 rounded-xl  shadow-lg shadow-gray-200 pb-7",children:[e.jsxs("div",{className:"flex place-content-between",children:[e.jsx("div",{className:"text-[17px] font-semibold",children:"Is this business yours?"}),e.jsx("div",{className:"flex place-items-center gap-1",children:e.jsx(Me,{className:"text-xl"})})]}),e.jsx("div",{className:"flex place-items-center mt-6 text-[14px] font-light text-center w-[80%] place-content-center mx-auto leading-[1.3em]",children:"Do you own this business? You can reach out and claim it for free!"}),e.jsxs("div",{className:"mt-6 flex place-content-center w-full flex-col place-items-center",children:[e.jsx(_,{to:"/web/contact",className:"w-[70%]",children:e.jsx("button",{className:"bg-[#A52A2A] w-full rounded-full py-4 text-white text-lg",children:"Claim Business"})}),e.jsx("div",{className:"mt-2 text-center",children:"You woun't be charged"})]})]})}),fs=({ratings:s,listing:l,reviewContext:r,businessRating:o})=>{const[n,h]=d.useState(),[c,i]=d.useState(0);return d.useEffect(()=>{var t;if(s){h(s);const x=parseFloat((t=Number(s==null?void 0:s.rating_average))==null?void 0:t.toFixed(1));i(x)}},[s]),e.jsx("div",{className:"mb-8 border  border-solid   rounded-3xl shadow-lg shadow-gray-100",children:e.jsxs("div",{className:"grid grid-cols-3 border-none md:border md:border-solid rounded-3xl py-5 divide-x ",children:[e.jsx("div",{className:"text-lg flex flex-col  place-items-center place-content-center",children:e.jsxs("div",{className:"mx-[50%] text-center leading-[1.2em] text-[14px] md:text-[15px] font-semibold",children:[e.jsx("div",{className:"md:hidden",children:e.jsx(ee,{listing:l,reviewContext:r})}),e.jsx("span",{className:"md:block hidden",children:"User Reviews"})]})}),e.jsxs("div",{className:"flex flex-col place-items-center gap-y-1",children:[e.jsx("div",{className:"text-xl font-semibold md:text-2xl",children:(o==null?void 0:o.avg_rating)||0}),e.jsx("div",{className:"text-lg",children:e.jsx(M,{rating:Number(o==null?void 0:o.avg_rating)||0})})]}),e.jsxs("div",{className:"flex flex-col place-items-center gap-y-0",children:[e.jsx("div",{className:"text-xl font-semibold md:text-2xl",children:(o==null?void 0:o.count_of_rating)||0}),e.jsx("div",{className:"text-[12px]",children:"Reviews"})]})]})})},vs=({listing:s})=>{const[l,r]=d.useState(""),[o,n]=d.useState(W.fallbackImg),[h,c]=d.useState(!1);d.useEffect(()=>{s.gid&&F(s.gid).then(m=>{(m==null?void 0:m.image_url)===""||(m==null?void 0:m.image_url)===void 0||(m==null?void 0:m.image_url)===null?(r(o),c(!0)):r(S.IMG_BASE_URL+m.image_url)})},[s]);const i=A(),t=f=>{i==null||i.setDescription(f),i==null||i.setShow(!0),i==null||i.setTitle("Starting amount")},[x,u]=d.useState(null);return d.useEffect(()=>{if(s){let f=e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-semibold",children:[s==null?void 0:s.currency,z(Number(s==null?void 0:s.minimum_amount))]}),e.jsx("div",{className:"text-lg mt-6",children:s==null?void 0:s.starting_note})]});u(f)}},[s]),e.jsxs("div",{className:" border-t py-10 relative",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold",children:"Starting Amount"}),e.jsx("div",{className:"text-sm",children:"Promos, Special Offers, Seasonal Offers and more."}),e.jsxs("div",{className:"mt-6 flex gap-12 place-items-start relative",children:[e.jsx("div",{className:"grow text-lg line-clamp-2",children:!(s!=null&&s.starting_note)&&+((s==null?void 0:s.minimum_amount)<=0)?"This business has no minimum amount set.":(s==null?void 0:s.starting_note)||"This may cover core business services or products. It could also include promos, seasonal and special offers."}),e.jsxs("div",{className:"text-4xl",children:[s==null?void 0:s.currency,z(Number((s==null?void 0:s.minimum_amount)||0))]})]}),e.jsx("button",{className:"mt-6 shadow-md rounded-xl text-xl px-5 py-3 bg-[#895129]/20 ",onClick:()=>{t(x===null?s==null?void 0:s.starting_note:x)},children:"Read more"})]})},Ds=()=>{var g;const s=q(),l=ne(),[r,o]=d.useState(void 0),[n,h]=d.useState(!1),c=J(),[i,t]=d.useState("");let x,u,f,m,j,b,y,k,v,a,p,N;return x=l.listing,u=l.gallery,f=l.ratingsData,m=l.videoGallery,j=l.products,b=l.profileImageData,l.businessProfileBgData,y=l.reportTime,k=l.businessRating,v=l.businessReviews,a=l.related,p=l.nearby,N=(g=l.services)==null?void 0:g.data,console.log(b),d.useEffect(()=>{x&&y&&o(y)},[x,y]),d.useEffect(()=>{b&&t(S.IMG_BASE_URL+(b==null?void 0:b.image_url))},[b]),e.jsx(ie,{children:e.jsx(he,{children:e.jsxs(me,{children:[e.jsx(ls,{title:x==null?void 0:x.title,images:u,listing:x}),e.jsxs("div",{className:"px-[20px] bg-gray-50/20",children:[e.jsxs("div",{className:"max-w-[1100px] mx-auto w-full mt-0 md:mt-12",children:[e.jsxs("div",{className:"hidden md:block",children:[e.jsx(Ve,{listing:x,ratingsData:f,reviewContext:s,showShare:n,shareContext:c,profileImg:i,profileImageData:b}),u&&x&&e.jsx(ze,{images:u,listing:x})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 lg:gap-x-24 mt-0 md:mt-12",children:[e.jsxs("div",{className:" md:col-span-7",children:[e.jsx(K,{children:e.jsx(fs,{listing:x,ratings:f,reviewContext:s,businessRating:k})}),e.jsx(Xe,{listing:x,reportTime:y,operatingHoursStatus:r}),e.jsx(P,{children:e.jsx(Fe,{listing:x})}),e.jsx(P,{children:e.jsx(vs,{listing:x})}),e.jsxs("div",{className:"block lg:hidden mb-12",children:[e.jsx(O,{listing:x,operatingHoursStatus:r,workTimeStatusObject:y.todayHoursOpenStatus}),e.jsx(U,{})]}),e.jsx(ts,{children:e.jsx(rs,{listing:x,videoGallery:m})}),e.jsx(xs,{listing:x}),e.jsx(hs,{children:e.jsx(us,{services:N})}),e.jsx(Ie,{children:e.jsx(os,{children:e.jsx(ns,{listing:x,products:j})})}),e.jsx(P,{children:e.jsx(Qe,{listing:x})}),e.jsx(Ye,{listing:x})]}),e.jsx("div",{className:"hidden lg:block lg:col-span-5 relative w-full",children:e.jsxs("div",{className:"sticky top-[100px] w-full",children:[e.jsx(O,{listing:x,operatingHoursStatus:r,workTimeStatusObject:y.todayHoursOpenStatus}),e.jsx(U,{})]})})]}),e.jsx(qe,{businessRating:k,listing:x}),e.jsx(Je,{businessReviews:v}),e.jsx(Ke,{related:a})]}),e.jsx("div",{className:"max-w-[1100px] mx-auto w-full mt-12",children:e.jsx(Ze,{nearby:p})})]})]})})})};export{Ds as default};

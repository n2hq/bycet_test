import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{L as m,r,a as v}from"./components-DGrJwBOK.js";import{L as g,a as b}from"./LeftNav-B93XguDD.js";import{an as w,aJ as N,y,v as k,N as E,aK as L,aL as S,aM as U,aN as _,f,aO as h,ai as C}from"./lib-k8WFHaWl.js";import{u}from"./AuthContext-BZd2vK8z.js";import{w as A}from"./css-CVxtJxAn.js";import{I as M}from"./index-BcoEYQqA.js";const B=()=>e.jsx(m,{to:"/",children:e.jsx("div",{className:` text-[24px]
                cursor-pointer tracking-tighter relative
                top-[-1px] ${A} font-poppins font-bold`,children:w()})}),z=[{title:"Home",link:"/",icon:e.jsx(b,{})},{title:"Browse",link:"/web/browse",icon:e.jsx(k,{})},{title:"Terms",link:"/web/terms",icon:e.jsx(E,{})},{title:"Privacy",link:"/web/privacy",icon:e.jsx(L,{})},{title:"Contact",link:"/web/contact",icon:e.jsx(S,{})}],V=({showNav:s,closeNav:t})=>{const n=s?"translate-x-0":"translate-x-[-100%]",o=s?"block":"hidden",[l,x]=r.useState(null),c=u();if(!c)return null;const{user:a}=c,d=v();return r.useEffect(()=>{const i=p=>{p.key==="Escape"&&t()};return s&&document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[s,t]),r.useEffect(()=>{const i=async p=>{const j=await y(p||"");x(j)};c!=null&&c.user&&i(c==null?void 0:c.user.guid)},[c==null?void 0:c.user]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"-mt-[2px] text-black",children:[e.jsx("div",{onClick:t,className:`transform ${o} fixed transition-all duration-500 inset-0 z-[4000] bg-black opacity-20 w-full`}),e.jsxs("div",{className:`${n} transform transition-all duration-500
                delay-0 fixed  justify-start  h-full top-0 left-0
                w-full md:w-[400px] bg-white z-[4001] ${s?"shadow-lg shadow-black/50":""}
                overflow-y-auto
                `,children:[e.jsx("div",{className:"bg-white pt-4 pb-4",children:e.jsxs("div",{className:`px-4 md:pl-12 
                            flex place-content-between h-[60px] 
                            `,children:[e.jsx("div",{className:"h-full flex justify-center items-center",children:e.jsx(B,{})}),e.jsx("div",{className:"h-full flex justify-center items-center",children:e.jsx("div",{onClick:t,className:`w-[40px] h-[40px] bg-blue-200
                                    rounded-full flex justify-center items-center`,children:e.jsx(M,{className:"text-[20px]"})})})]})}),e.jsx("hr",{className:" border-t-[1px] border-yellow-500/20"}),e.jsx("div",{className:"flex flex-col mt-5 mx-[15px]",children:z.map((i,p)=>e.jsx("div",{className:"mt-[0px]",children:e.jsx(m,{to:i.link,children:e.jsxs("div",{className:` flex place-items-center gap-3
                                                hover:bg-gray-200/60 py-1 rounded
                                                place-content-between pr-1
                                                ${d.pathname===i.link&&"bg-[#2e374a]/15"}`,children:[e.jsx("div",{className:`w-[40px] h-[40px] rounded-full
                                            place-content-center place-items-center border-gray-300 text-[20px]`,children:i.icon}),e.jsx("div",{className:"text-[13px] grow",children:i.title}),e.jsx("div",{className:"text-[17px]",children:e.jsx(N,{})})]})})},p))}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-[20px]"}),e.jsx("div",{className:"mt-[20px]"}),a&&e.jsx(g,{userProfile:l})]}),e.jsx("div",{className:"mt-20"})]})]})})},O=()=>e.jsx(m,{to:"/web/account/profile",children:e.jsxs("div",{className:`flex hover:bg-gray-100 px-[10px] py-[5px] 
        hover:cursor-pointer gap-2 place-items-center`,children:[e.jsx("div",{className:`bg-gray-200 h-[30px] w-[30px] rounded-full
                flex place-items-center place-content-center border`,children:e.jsx(U,{className:"text-[20px]"})}),e.jsx("div",{className:"truncate text-[13px] text-gray-500",children:"Account & Settings"})]})}),R=()=>{const s=u();if(!s)return null;const{signoutReload:t}=s;return e.jsxs("div",{onClick:()=>t(),className:`flex hover:bg-gray-100 px-[10px] py-[5px] 
        hover:cursor-pointer gap-2 place-items-center`,children:[e.jsx("div",{className:`bg-gray-200 h-[30px] w-[30px] rounded-full
                flex place-items-center place-content-center border`,children:e.jsx(_,{className:"text-[20px]"})}),e.jsx("div",{className:"truncate text-[13px] text-gray-500",children:"Signout"})]})},$=()=>{const s=u();if(!s)return null;const{user:t}=s,[n,o]=r.useState(""),[l,x]=r.useState(null);return r.useEffect(()=>{o((t==null?void 0:t.first_name)+" "+(t==null?void 0:t.last_name))},[t]),r.useEffect(()=>{const c=async a=>{const d=await C(a);x(d)};(t==null?void 0:t.guid)!==null&&c(t==null?void 0:t.guid)},[t]),e.jsx(m,{to:"/web/account/profile",children:e.jsxs("div",{className:`flex hover:bg-gray-100 px-[10px] py-[5px] 
        hover:cursor-pointer gap-2 place-items-center`,children:[e.jsx("div",{className:` relative h-[30px] w-[30px] rounded-full
                    overflow-hidden flex place-content-center place-items-center
                    bg-white`,children:l!=null&&l.image_url?e.jsx("img",{className:"object-cover w-full h-full",src:f.IMG_BASE_URL+(l==null?void 0:l.image_url),alt:""}):e.jsx(h,{className:"object-cover w-[70%] h-[70%]"})}),e.jsx("div",{className:`truncate text-[13px] inline-block
                    text-gray-500`,children:n})]})})},F=({open:s})=>e.jsx("div",{children:s&&e.jsx("div",{className:"absolute z-[1000]",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"absolute right-[-25px] top-[5px]",children:e.jsxs("div",{className:`w-[250px] bg-white rounded-xl p-[5px] 
                            shadow-lg
                                shadow-black/30`,children:[e.jsx($,{}),e.jsx("div",{className:"px-[10px] my-1",children:e.jsx("hr",{})}),e.jsxs("div",{children:[e.jsx(O,{}),e.jsx(R,{})]})]})})})})}),G=({userProfileImgData:s})=>{const t=u();if(!t)return null;const{user:n}=t,[o,l]=r.useState("");return r.useEffect(()=>{l((n==null?void 0:n.first_name)+" "+(n==null?void 0:n.last_name))},[n]),e.jsx("div",{className:` relative h-[30px] w-[30px] rounded-full
                    overflow-hidden flex place-content-center place-items-center
                    bg-white z-0`,children:s!=null&&s.image_url?e.jsx("img",{className:"object-cover w-full h-full z-0",src:f.IMG_BASE_URL+(s==null?void 0:s.image_url),alt:""}):e.jsx(h,{className:"object-cover w-[70%] h-[70%] z-0"})})},X=({theme:s,userProfileImgData:t})=>{const[n,o]=r.useState(!1),l=u();if(!l)return null;const x=()=>o(!0),c=async()=>{await new Promise(a=>setTimeout(a,300)),o(!1)};return r.useEffect(()=>{const a=d=>{d.key==="Escape"&&o(!1)};return n&&document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[n]),e.jsxs("div",{children:[l.user?e.jsx("button",{onClick:a=>x(),onBlur:a=>c(),className:`w-[30px] h-[30px] bg-gray-400 hover:bg-gray-300 rounded-full text-white
                flex place-items-center place-content-center text-[13px]
                relative cursor-pointer`,children:t!==null?e.jsx(G,{userProfileImgData:t}):e.jsx(h,{className:"object-cover w-[80%] h-[80%]"})}):e.jsx(m,{to:"/web/signin",children:e.jsx("button",{className:"text-black border-white/50 border rounded-full border-gray-600 bg-blue-200  hover:text-white text-[12px] px-3 py-[5px] tracking-tigher font-bold hover:bg-blue-200/20",children:"Sign In"})}),e.jsx(F,{open:n})]})};export{V as M,X as U,B as W};

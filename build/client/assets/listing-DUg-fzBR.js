import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as n,L as _,u as re}from"./components-CqyJs_9b.js";import{u as de,R as oe,G as ne}from"./RatingContext--d__wh-8.js";import{S as ie}from"./SearchLayout-CeKei3UE.js";import{u as O}from"./SliderContext-An45yPTx.js";import{bM as xe,f as S,bN as he,Q as U,B as C,g as me,aY as ue,e as ve,y as fe,aq as $,m as V,k as W,aB as pe,bp as je,b5 as we,aD as Ne,br as be,bO as ye,bP as _e,bQ as Se,bR as ge,bS as ke,bT as Be,p as Le,aP as P,aQ as M,a as Ce,an as Pe,ao as Me,ap as Te,bU as Ee}from"./lib-d-OCgvip.js";import{u as De}from"./AuthContext-BH94oN1s.js";import{u as F,a as X,W as Q,S as Ae,F as Ge}from"./ShareDialogContext-gwxz-bZ_.js";import{A as T,R as E}from"./RatingBoxInfoCard-C90skG7G.js";import{u as Y}from"./VideoSliderContext-BnTTQ1gy.js";import{u as q,P as Re}from"./ProductSliderContext-DWZwJo3M.js";import"./zod-DwrW5z8F.js";import"./NotificationContext-CJEyd20o.js";import"./OperationContext-BdFCpeXF.js";import"./types-DBTFAyTi.js";import"./FooterAlt-HKav16sg.js";import"./MainNav-CfGQQoVl.js";import"./index-CTCnFI3k.js";import"./LeftNav-Cj9_gra7.js";const Ie=[{image_url:"/images/abstract_placeholder.jpg",default:!0}],ze=({images:s,listing:l})=>{const[r,o]=n.useState(!1),d=O(),x=de(),[t,h]=n.useState([]);n.useEffect(()=>{o(!0)},[]),n.useEffect(()=>{s===null||s.length===0?h(Ie):h(s)},[s]);const c=(m,p)=>{m<p.length&&(d.setDialog(!0),d.setSelectedSlide(m+1),d.setGallery(p),d.setListing(l))},i=m=>{x.setShow(!0),x.setGallery(s),x.setListing(l)};return e.jsx("div",{children:(t==null?void 0:t.length)>0&&e.jsxs("div",{className:"mt-6 h-[350px] relative",children:[e.jsx(Oe,{showGallery:i}),r&&(t==null?void 0:t.length)===1&&e.jsx("div",{className:"relative rounded-xl overflow-hidden h-full",children:e.jsx(N,{imgs:t,index:0,showCarousel:c})}),r&&(t==null?void 0:t.length)===2&&e.jsx("div",{className:"relative rounded-xl overflow-hidden h-full",children:e.jsxs("div",{className:"grid grid-cols-12 gap-2 h-full",children:[e.jsx("div",{className:`col-span-7
                    row-span-2 overflow-hidden
                    relative cursor-pointer`,children:e.jsx(N,{imgs:t,index:0,showCarousel:c})}),e.jsx("div",{className:"col-span-5 row-span-2 overflow-hidden relative cursor-pointer h-full",children:e.jsx(N,{imgs:t,index:1,showCarousel:c})})]})}),r&&(t==null?void 0:t.length)===3&&e.jsx("div",{className:"relative rounded-xl overflow-hidden h-full",children:e.jsxs("div",{className:"grid grid-cols-12 gap-2 h-full",children:[e.jsx("div",{className:`col-span-7
                    row-span-2 overflow-hidden
                    relative cursor-pointer`,children:e.jsx(N,{imgs:t,index:0,showCarousel:c})}),e.jsx("div",{className:"col-span-5 overflow-hidden relative cursor-pointer h-full",children:e.jsx(N,{imgs:t,index:1,showCarousel:c})}),e.jsx("div",{className:"col-span-5 overflow-hidden relative cursor-pointer h-full",children:e.jsx(N,{imgs:t,index:2,showCarousel:c})})]})}),r&&t.length===4&&e.jsx("div",{className:"relative rounded-2xl overflow-hidden h-full",children:e.jsxs("div",{className:"grid grid-cols-12 grid-rows-2 h-full gap-2.5",children:[e.jsx("div",{className:"col-span-5 row-span-2 relative overflow-hidden",children:e.jsx(N,{imgs:t,index:0,showCarousel:c})}),e.jsx("div",{className:"col-span-4 row-span-2 relative overflow-hidden",children:e.jsx(N,{imgs:t,index:1,showCarousel:c})}),e.jsx("div",{className:"col-span-3 row-span-1 relative overflow-hidden",children:e.jsx(N,{imgs:t,index:2,showCarousel:c})}),e.jsx("div",{className:"col-span-3 row-span-1 relative overflow-hidden",children:e.jsx(N,{imgs:t,index:3,showCarousel:c})})]})}),r&&t!==null&&t.length>4&&e.jsx("div",{className:"relative rounded-2xl overflow-hidden h-full",children:e.jsxs("div",{className:"grid h-full grid-cols-4 grid-rows-2 gap-2.5",children:[e.jsx("div",{className:"col-span-2 row-span-2 relative",children:e.jsx(N,{imgs:t,index:0,showCarousel:c})}),e.jsx("div",{className:"relative",children:e.jsx(N,{imgs:t,index:1,showCarousel:c})}),e.jsx("div",{className:"relative",children:e.jsx(N,{imgs:t,index:2,showCarousel:c})}),e.jsx("div",{className:"relative",children:e.jsx(N,{imgs:t,index:3,showCarousel:c})}),e.jsx("div",{className:"relative",children:e.jsx(N,{imgs:t,index:4,showCarousel:c})})]})})]})})},N=({index:s,imgs:l,showCarousel:r})=>{const[o,d]=n.useState(!1),x=async()=>{await new Promise(t=>setTimeout(t,1e3)),d(!0)};return n.useEffect(()=>{x()},[]),e.jsxs("div",{className:` overflow-hidden  
                    relative cursor-pointer w-full h-full`,onMouseDown:t=>{r&&!l[0].default&&r(s,l)},children:[e.jsx("div",{className:"w-full h-[30%] absolute bottom-0 left-0 right-0 bg-gradient-to-b from-transparent to-black/70 z-[2] rounded-xl"}),e.jsx("div",{className:"relative w-full h-full rounded-xl",children:e.jsx("img",{src:l[s].default?l[s].image_url:S.IMG_BASE_URL+l[s].image_url,alt:"",className:"object-cover w-full h-full"})})]})},Oe=({showGallery:s})=>e.jsx("div",{className:"absolute bottom-5 z-[5] right-5 group",onMouseDown:l=>s&&s(0),children:e.jsxs("div",{className:"w-fit px-4 py-2 bg-white rounded-lg group-hover:underline cursor-pointer flex place-items-center gap-2",children:[e.jsx(xe,{className:"text-2xl"}),e.jsx("span",{className:"font-semibold text-lg",children:"Show Gallery"})]})}),J=({listing:s,reviewContext:l})=>{const[r,o]=n.useState();F();const d=De();n.useEffect(()=>{s&&o(s)},[s]);const x=()=>{if(!(d!=null&&d.user))return alert("Sign in to Write a Review."),!1;l==null||l.showDialog(!0),l==null||l.setListing(s)};return e.jsx("div",{className:"text-lg underline text-black flex gap-3 place-items-center",children:e.jsx("div",{className:"cursor-pointer",onClick:()=>x(),children:"Write Review"})})},Ue=({shareContext:s,listing:l,profileImg:r,profileImageData:o})=>{const[d,x]=n.useState(!1);X();const t=()=>{s==null||s.setShow(!0),s==null||s.setListing(l),s==null||s.setProfileImg(r),s==null||s.setProfileImageData(o)};return e.jsxs("div",{children:[e.jsx($e,{showShare:d}),e.jsxs("div",{className:"flex place-items-center gap-1  rounded-full pl-2 pr-4 py-2  underline cursor-pointer bg-[#D2B48C]/40  hover:bg-[#D2B48C]/20",onClick:()=>t(),children:[e.jsx(he,{className:"text-xl"}),e.jsx("span",{className:"text-lg",children:"Share"})]})]})},$e=({showShare:s})=>{const[l,r]=n.useState(!1);return n.useEffect(()=>{s&&r(s)},[s]),e.jsx("div",{})},Ve=({listing:s,ratingsData:l,reviewContext:r,showShare:o,shareContext:d,profileImg:x,profileImageData:t})=>{const[h,c]=n.useState();return n.useEffect(()=>{l&&c(l)},[l]),e.jsxs("div",{className:"flex place-content-between place-items-center relative",children:[e.jsx("div",{className:"text-[24px] font-semibold text-center leading-[1.3em]  text-gray-700 line-clamp-1 w-auto tracking-tight",children:s.title}),e.jsxs("div",{className:" place-items-center gap-4 flex relative top-1 w-fit",children:[e.jsx(Q,{children:e.jsx(J,{listing:s,reviewContext:r})}),e.jsx(Ae,{children:e.jsx(Ue,{shareContext:d,listing:s,profileImg:x,profileImageData:t})})]})]})},K=n.createContext(null),Z=()=>{const s=n.useContext(K);return s||null},R=({children:s})=>{const[l,r]=n.useState(!1),[o,d]=n.useState(""),[x,t]=n.useState("");let h={setDescription:d,setShow:r,setTitle:t};return e.jsxs(K.Provider,{value:h,children:[e.jsx("div",{children:l&&e.jsxs("div",{className:"fixed top-0 left-0 w-full right-0 bg-black/40 z-[4000] h-full flex place-items-center place-content-center",onClick:()=>r(!1),children:[e.jsx(We,{setShow:r}),e.jsxs("div",{className:"max-w-[660px] min-h-[50%] max-h-[80%]  mx-auto w-full bg-white rounded-[40px] px-[32px] py-16 relative",onClick:c=>c.stopPropagation(),children:[e.jsx("div",{className:"absolute top-8 right-8 text-3xl border-[2px] rounded-xl border-gray-500/20 w-[40px] h-[40px] shadow-sm flex place-items-center place-content-center text-gray-500 cursor-pointer hover:bg-gray-100 hover:border-gray-200/50",onClick:()=>r(!1),children:e.jsx(U,{})}),e.jsx("div",{className:"text-2xl",children:x}),e.jsxs("div",{className:" whitespace-pre-wrap mt-6 max-h-[300px] overflow-y-auto",children:[o,e.jsx("div",{className:"h-[60px]"})]})]})]})}),s]})},We=({setShow:s})=>e.jsx("div",{onClick:()=>s(!1),children:e.jsx("div",{className:"w-[30px] h-[30px] flex place-items-center place-content-center rounded-full absolute top-2 left-2 bg-white text-[25px] font-bold transition-all ease-in-out duration-700 cursor-pointer hover:bg-white/40",children:e.jsx(C,{})})}),Fe=({listing:s})=>{const[l,r]=n.useState(""),[o,d]=n.useState(me.fallbackImg),[x,t]=n.useState(!1);n.useEffect(()=>{s.gid&&ue(s.gid).then(m=>{(m==null?void 0:m.image_url)===""||(m==null?void 0:m.image_url)===void 0||(m==null?void 0:m.image_url)===null?(r(o),t(!0)):r(S.IMG_BASE_URL+m.image_url)})},[s]);const h=Z(),c=i=>{h==null||h.setDescription(i),h==null||h.setShow(!0),h==null||h.setTitle("About this business")};return e.jsxs("div",{className:"mt-12 border-t py-10",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-bold",children:"About"}),e.jsxs("div",{className:"flex place-items-center gap-x-3 mt-4",children:[e.jsx("div",{className:"relative w-[50px] h-[50px] rounded-2xl overflow-hidden border",children:x?e.jsx(T,{title:s==null?void 0:s.title}):e.jsx("img",{src:l,alt:"",className:"object-cover w-full h-full"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-lg font-semibold",children:s.title}),e.jsx("div",{className:"text-black font-semibold text-[10px] uppercase",children:ve(s.category)})]})]}),e.jsx("div",{className:"text-[15px] text-gray-700 mt-6 font-light",children:s.short_description}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>c(s==null?void 0:s.long_description),className:"px-5 py-3 bg-[#895129]/20 text-[15px] w-full md:w-fit rounded-2xl",children:"Read more"})})]})};function H(s){return fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]},{tag:"path",attr:{d:"M16 18h6"},child:[]},{tag:"path",attr:{d:"M19 15v6"},child:[]}]})(s)}const Xe=({listing:s,reportTime:l,operatingHoursStatus:r})=>{const[o,d]=n.useState(""),[x,t]=n.useState();return n.useEffect(()=>{if(s){let h="";s.address_one&&(h+=s.address_one+", "),s.address_two&&(h+=s.address_two+", "),s.city_name&&(h+=s.city_name+" "),s.zipcode&&(h+=s.zipcode+" "),s.country_name&&(h+=s.country_name),d(h)}},[s]),n.useEffect(()=>{if(s){let h=[],c={title:"Website",url:(s==null?void 0:s.website)||"#",icon:e.jsx($,{})},i={title:"Phone",url:`tel:${s==null?void 0:s.phone}`||"#",icon:e.jsx(V,{})},m={title:"Email",url:`mailto:${s==null?void 0:s.email_address}`||"#",icon:e.jsx(W,{})};h.push(c),h.push(i),h.push(m),t(h)}},[s]),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-[22px] md:text-[25px] font-bold",children:["Welcome to",e.jsx("i",{children:"!"})]}),e.jsx("div",{className:" font-light text-[15px] -mt-1 underline",children:s==null?void 0:s.title})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex place-items-center gap-3",children:[e.jsx("span",{className:"text-[15px] font-semibold",children:l.openStatusObject}),e.jsx(_,{to:"#workinghours",children:e.jsx("span",{className:"text-[15px] font-light border-b border-gray-500",children:"See all hours"})})]}),e.jsx("div",{className:"mt-4",children:r==null?void 0:r.localTimeText}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex place-items-center gap-3",children:[e.jsx(H,{className:"text-3xl"}),e.jsx("div",{className:" border-b border-gray-300 w-fit text-[14px]",children:o})]})}),e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"flex place-items-center gap-5",children:x==null?void 0:x.map((h,c)=>e.jsx("div",{children:e.jsx(_,{to:h.url,children:e.jsxs("div",{className:"flex place-items-center gap-2",children:[e.jsx("div",{className:"text-2xl",children:h.icon}),e.jsx("div",{className:"text-[15px] underline",children:h.title})]})})},c))})})]})]})},I=({listing:s,operatingHoursStatus:l,workTimeStatusObject:r})=>{const[o,d]=n.useState(""),[x,t]=n.useState(""),[h,c]=n.useState(null),[i,m]=n.useState(""),[p,u]=n.useState(void 0),j=(a,f)=>{if(a==="Closed"||f=="Closed")return"Closed";{const w=parseInt(a),k=parseInt(f),B=w<12?"AM":"PM",D=k<12?"AM":"PM";return`${a} ${B} - ${f} ${D}`}},b=a=>{const f=[];m(a==null?void 0:a.open_status),a!=null&&a.monday_from&&(a!=null&&a.monday_to)&&f.push({day:"Monday",hours:j(a==null?void 0:a.monday_from,a==null?void 0:a.monday_to)}),a!=null&&a.tuesday_from&&(a!=null&&a.tuesday_to)&&f.push({day:"Tuesday",hours:j(a==null?void 0:a.tuesday_from,a==null?void 0:a.tuesday_to)}),a!=null&&a.wednesday_from&&(a!=null&&a.wednesday_to)&&f.push({day:"Wednesday",hours:j(a==null?void 0:a.wednesday_from,a==null?void 0:a.wednesday_to)}),a!=null&&a.thursday_from&&(a!=null&&a.thursday_to)&&f.push({day:"Thursday",hours:j(a==null?void 0:a.thursday_from,a==null?void 0:a.thursday_to)}),a!=null&&a.friday_from&&(a!=null&&a.friday_to)&&f.push({day:"Friday",hours:j(a==null?void 0:a.friday_from,a==null?void 0:a.friday_to)}),a!=null&&a.saturday_from&&(a!=null&&a.saturday_to)&&f.push({day:"Saturday",hours:j(a==null?void 0:a.saturday_from,a==null?void 0:a.saturday_to)}),a!=null&&a.sunday_from&&(a!=null&&a.sunday_to)&&f.push({day:"Sunday",hours:j(a==null?void 0:a.sunday_from,a==null?void 0:a.sunday_to)}),c(f)};n.useEffect(()=>{s&&(d(s==null?void 0:s.gid),t(s==null?void 0:s.owner))},[s]),n.useEffect(()=>{o!==""&&x!==""&&(async(f,w)=>await pe(f,w))(o,x).then(f=>{f&&b(f)})},[o,x]),n.useEffect(()=>{l!==void 0&&u(l)},[l]);const[y,g]=n.useState(null),v=()=>{switch(i){case"no_hours":return e.jsx("div",{children:"No hours set."});case"always_open":return e.jsx("div",{children:"Business is always open"});case"permanently_closed":return e.jsx("div",{children:"Permanently Closed"});case"temporarily_closed":return e.jsx("div",{children:"Temporarily Closed"});case"selected_hours":return h!==null&&i==="selected_hours"&&(h==null?void 0:h.map((a,f)=>e.jsxs("div",{className:"grid grid-cols-12 place-items-start text-[14px] py-2 w-full",children:[e.jsx("div",{className:"w-full font-semibold col-span-4",children:a.day}),e.jsxs("div",{className:"text-right w-full col-span-8 flex gap-1 place-content-end place-items-center",children:[e.jsx("span",{className:"text-[12px]",children:a!=null&&a.hours.includes("Closed")?"Closed":String(a==null?void 0:a.day).startsWith(p.today)&&(p.isOpen?"Open Now":"Closed Now")}),e.jsx("span",{children:a.hours})]})]},f)));default:return e.jsxs("div",{children:[e.jsx("div",{children:"This business has no set hours. "}),e.jsx("div",{className:"text-gray-500",children:"Assume: 8:30AM - 5:30PM"}),(s==null?void 0:s.phone)!==null&&(s==null?void 0:s.phone)!==void 0&&(s==null?void 0:s.phone)!==""&&e.jsx("div",{className:"text-sm mt-2",children:e.jsx(_,{to:`tel:${s==null?void 0:s.phone}`,children:e.jsxs("div",{children:["Contact directly: ",s==null?void 0:s.phone]})})})]})}};return e.jsx("div",{id:"workinghours",className:"w-full",children:e.jsxs("div",{className:"border border-gray-100 px-5 pt-7 pb-7 rounded-xl  shadow-lg shadow-gray-200",children:[e.jsxs("div",{className:"flex place-content-between w-full ",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold",children:"Hours"}),e.jsxs("div",{className:"flex place-items-center gap-1",children:[e.jsx(Ge,{}),e.jsx("div",{className:"underline text-[13px]",children:"Suggest an edit"})]})]}),e.jsxs("div",{className:"flex place-items-center mt-2 text-[15px] font-normal gap-1",children:[e.jsx("span",{children:r}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:"Check timing below."})]}),e.jsx("div",{className:"mt-6",children:v()})]})})},Qe=({listing:s})=>{const[l,r]=n.useState(void 0),o=Z();n.useEffect(()=>{const x=async t=>{const h=await je(s==null?void 0:s.gid);console.log(h),r(h)};s!=null&&s.gid&&x(s==null?void 0:s.gid)},[s==null?void 0:s.gid]);const d=(x,t)=>{o==null||o.setDescription(x),o==null||o.setTitle(t),o==null||o.setShow(!0)};return e.jsxs("div",{className:"mt-12 border-t py-10",children:[e.jsx("div",{className:"text-[22px] md:text-[25px]  font-semibold ",children:"What this business offers"}),e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-2 w-full gap-x-4 gap-y-6",children:(l==null?void 0:l.length)>0&&(l==null?void 0:l.map((x,t)=>e.jsx("div",{onClick:()=>d(x==null?void 0:x.facility_description,`${x==null?void 0:x.facility_name} information`),children:e.jsx("div",{className:"hover:underline cursor-pointer text-lg",children:x==null?void 0:x.facility_name})})))})})]})},Ye=({listing:s})=>{const[l,r]=n.useState(""),[o,d]=n.useState(""),[x,t]=n.useState("");return n.useEffect(()=>{s!==null&&(async c=>{let i=c==null?void 0:c.title;i+=c!=null&&c.address_one?", "+(c==null?void 0:c.address_one):"",i+=c!=null&&c.address_two?", "+(c==null?void 0:c.address_two):"",i+=c!=null&&c.city_name?", "+(c==null?void 0:c.city_name):"",i+=c!=null&&c.state_name?", "+(c==null?void 0:c.state_name):"",i+=c!=null&&c.zipcode?", "+(c==null?void 0:c.zipcode):"",i+=c!=null&&c.country_code?", "+(c==null?void 0:c.country_code):"";let m=`https://www.google.com/maps?q=${i}&t=&z=15&ie=UTF8&iwloc=B&output=`;r(i),d(m);let p="",u=c==null?void 0:c.country_name;console.log(c==null?void 0:c.city_name),(c==null?void 0:c.city_name)!==null&&(p=(c==null?void 0:c.city_name)+", "),c!=null&&c.country_name&&(u=c==null?void 0:c.country_name);let j=p+u;t(j)})(s)},[s]),e.jsx("div",{className:"mt-12 border-t",children:e.jsxs("div",{className:"my-10",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold",children:"Location"}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 h-[200px]",children:[e.jsx("div",{className:"col-span-6 rounded-xl overflow-hidden border border-gray-300",children:e.jsx("div",{className:"relative h-full w-full",children:e.jsx("img",{src:"https://m.media-amazon.com/images/I/81WGuaolxhL._AC_SL1500_.jpg",alt:"",className:" object-center object-cover w-full h-full"})})}),e.jsxs("div",{className:"col-span-6",children:[e.jsxs("div",{className:"flex gap-3 place-items-start hover:underline hover:cursor-pointer",children:[e.jsx("div",{children:e.jsx(H,{className:"text-3xl"})}),e.jsx("div",{children:e.jsx(_,{to:o,target:"_blank",children:e.jsxs("div",{className:"flex place-items-center",children:[e.jsx("div",{className:"font-semibold hover:underline text-[14px]",children:l}),e.jsx("div",{children:e.jsx(we,{className:"text-4xl"})})]})})})]}),e.jsxs("div",{className:"flex mt-6 place-items-center gap-4 ",children:[e.jsx("div",{className:"text-3xl",children:e.jsx(Ne,{})}),e.jsx("div",{className:"font-semibold text-[14px]",children:x})]}),e.jsx("div",{className:"mt-12",children:e.jsx(_,{to:o,target:"_blank",children:e.jsx("button",{className:"bg-gray-200 px-4 py-3 rounded-full w-32 hover:shadow-md hover:shadow-gray-400 transition-all ease-out duration-500 outline-none",children:"Map"})})})]})]})})]})})};let L=[{title:"Overall Rating",score:"0",icon:e.jsx(be,{className:""})},{title:"Quality",score:"0",icon:e.jsx(ye,{})},{title:"Customer Service",score:"0",icon:e.jsx(_e,{})},{title:"Communication",score:"0",icon:e.jsx(Se,{})},{title:"Value",score:"0",icon:e.jsx(ge,{})},{title:"Overall Satisfaction",score:"0",icon:e.jsx(ke,{})}];const qe=({businessRating:s,listing:l})=>{const[r,o]=n.useState(null);return n.useEffect(()=>{s&&(o(s),console.log(s))},[s]),n.useEffect(()=>{var d,x,t,h,c,i;if(r){console.log(r);let m=L;m[0].score=(d=r==null?void 0:r.avg_rating)==null?void 0:d.toString(),m[1].score=(x=r==null?void 0:r.avg_quality)==null?void 0:x.toString(),m[2].score=(t=r==null?void 0:r.avg_customer_service)==null?void 0:t.toString(),m[3].score=(h=r==null?void 0:r.avg_communication)==null?void 0:h.toString(),m[4].score=(c=r==null?void 0:r.avg_value)==null?void 0:c.toString(),m[5].score=(i=r==null?void 0:r.avg_overall_satisfaction)==null?void 0:i.toString(),console.log(L)}},[r]),e.jsxs("div",{className:"mt-24",children:[e.jsx("div",{className:" border-t border-gray-300 mb-20"}),e.jsx("div",{className:"text-center text-5xl font-semibold",children:r?r.avg_rating:e.jsxs("span",{children:["Oops",e.jsx("i",{children:"!"})," No rating yet.'"]})}),e.jsxs("div",{className:"mt-6 flex place-items-center flex-col gap-y-2",children:[e.jsx("div",{className:"text-2xl font-semibold",children:l==null?void 0:l.title}),e.jsx("div",{className:"max-w-[800px] mx-auto w-full text-center text-[15px] font-light mt-6",children:l==null?void 0:l.short_description})]}),e.jsx("div",{className:"mt-20",children:e.jsx("div",{className:"max-w-[1100px] mx-auto w-full",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 place-content-between ",children:L==null?void 0:L.map((d,x)=>e.jsxs("div",{className:"flex flex-col gap-y-3 p-5 border rounded-xl  relative h-auto shadow-lg shadow-gray-200/50",children:[e.jsx("div",{className:"text-[15px] font-base leading-[1.1em] font-semibold text-gray-800 ",children:d.title}),e.jsxs("div",{className:"text-3xl flex flex-col grow w-full text-start place-content-end gap-y-1",children:[e.jsx("div",{className:` ${r?"text-[16px]":"text-[13px]"} `,children:r?d.score:"No Rating"}),e.jsx("div",{className:"text-cyan-500 text-3xl",children:d.icon})]})]},x))})})}),e.jsx("div",{className:"mt-20 border-t"})]})},Je=({businessReviews:s})=>e.jsx("div",{className:"my-16",children:e.jsx("div",{className:"grid md:grid-cols-2 gap-16",children:s==null?void 0:s.map((l,r)=>{const o=Be(l.created_at);return e.jsx("div",{children:e.jsx(_,{to:"/",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex place-items-start gap-3",children:[e.jsx("div",{className:"relative h-[40px] w-[40px] rounded-full overflow-hidden",children:e.jsx("img",{src:l.img||"/images/pcho.png",alt:"",className:"object-cover h-full w-full"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold",children:`${l.firstname} ${l.lastname}`}),e.jsxs("div",{children:[l.city_name&&l.city_name+", ",l.country_name]}),e.jsx("div",{className:"flex place-items-center",children:e.jsxs("div",{className:"text-[15px] flex place-items-center gap-2",children:[e.jsx(E,{rating:Number(l.avg_rating)}),e.jsx("span",{children:l.avg_rating})]})})]})]}),e.jsx("div",{className:"flex place-items-center gap-3 mt-2",children:e.jsx("div",{children:o})}),e.jsx("div",{className:"text-[14px] font-light mt-2",children:l.experience})]})})},r)})})}),Ke=({related:s})=>{const l=n.useRef(null),r=()=>{l.current&&l.current.scrollBy({left:-300,behavior:"smooth"})},o=()=>{l.current&&l.current.scrollBy({left:300,behavior:"smooth"})};return e.jsx("div",{className:"border-t py-10",children:e.jsxs("div",{className:"",children:[e.jsx("div",{className:"text-[19px] font-semibold",children:"Related Businesses"}),e.jsxs("div",{className:"mt-6 relative",children:[e.jsx("div",{ref:l,className:"flex place-items-start overflow-x-hidden  gap-4 rounded-xl  h-[300px]",children:e.jsx("div",{className:"flex gap-3",children:s==null?void 0:s.map((d,x)=>{let t=S.BASE_URL+"/"+((d==null?void 0:d.username)||(d==null?void 0:d.gid)),h="",c="";return d!=null&&d.bg_image_url_ext?h=d==null?void 0:d.bg_image_url_ext:d!=null&&d.profile_image_url_ext&&(h=d==null?void 0:d.profile_image_url_ext),c=S.IMG_BASE_URL+h,console.log(c),e.jsx("div",{className:"w-[200px] group",children:e.jsxs(_,{to:t,children:[e.jsx("div",{className:"relative w-full h-[180px]  rounded-3xl overflow-hidden border group-hover:shadow-lg",children:h!==""?e.jsx("img",{src:`${c}`,alt:"",className:"object-cover h-full w-full"}):e.jsx(T,{title:d==null?void 0:d.title})}),e.jsxs("div",{className:"mt-2 ",children:[e.jsx("div",{className:"text-[13px] leading-[1.2em] group-hover:underline pl-1 ",children:d.title}),e.jsxs("div",{className:" mt-1",children:[e.jsxs("div",{className:"flex place-items-center gap-2",children:[e.jsxs("div",{className:"text-base flex place-items-center gap-0",children:[e.jsx(Le,{className:"relative top-[-1px]"}),e.jsx("span",{children:(d==null?void 0:d.avg_rating)||0})]}),e.jsxs("div",{className:"text-base",children:["(",(d==null?void 0:d.count_of_rating)||0,")",e.jsxs("span",{className:"text-[12px] top-[-1px]",children:[" Review",(d==null?void 0:d.count_of_rating)>1&&"s"]})]})]}),e.jsx("div",{})]})]})]})},x)})})}),(s==null?void 0:s.length)>0&&e.jsxs("div",{children:[e.jsx("div",{className:"absolute text-black top-1/3 -translate-y-1/2 left-2 w-[40px] min-w-[40px] h-[40px] bg-white hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded-full z-[5]",onClick:()=>{r()},children:e.jsx(P,{})}),e.jsx("div",{className:"absolute text-black top-1/3 -translate-y-1/2 right-2 w-[40px] min-w-[40px] h-[40px] bg-white hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded-full z-[5] transition-all ease-in-out duration-1000",onClick:()=>{o()},children:e.jsx(M,{})})]})]})]})})},Ze=({nearby:s})=>(console.log(s),console.log("hala"),e.jsx("div",{className:"mt-12",children:e.jsxs("div",{className:"border-t border-gray-200 py-10",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold",children:"Businesses nearby"}),e.jsxs("div",{className:"grid lg:grid-cols-12",children:[e.jsx("div",{className:"lg:col-span-8",children:e.jsx(He,{nearby:s})}),e.jsx("div",{className:"lg:col-span-4"})]})]})})),He=({nearby:s})=>e.jsxs("div",{children:[e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex place-content-between place-items-center",children:[e.jsx("div",{className:"text-[16px] font-semibold",children:"Businesses near here"}),e.jsx("div",{className:"text-[14px] text-right underline",children:"See all"})]})}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:s!==null&&(s==null?void 0:s.map((l,r)=>{var t;let o=S.BASE_URL+"/"+((l==null?void 0:l.username)||(l==null?void 0:l.gid)),d="";l!=null&&l.bg_image_url_ext?d=l==null?void 0:l.bg_image_url_ext:l!=null&&l.profile_image_url_ext?d=l==null?void 0:l.profile_image_url_ext:d="";let x=((t=S)==null?void 0:t.IMG_BASE_URL)+d;return e.jsx("div",{children:e.jsx(_,{to:o,children:e.jsxs("div",{className:"flex gap-x-4",children:[e.jsx("div",{className:"w-[95px] min-w-[95px] h-[100px] relative rounded-2xl overflow-hidden",children:d===""?e.jsx(T,{title:l==null?void 0:l.title}):e.jsx("img",{src:x,alt:"",className:"object-cover w-full h-full"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[15px] font-semibold leading-[1.2em]",children:l.title}),e.jsxs("div",{className:"flex place-items-center gap-2 mt-2 text-[14px] text-gray-500",children:[e.jsxs("div",{className:"flex place-items-center gap-1",children:[e.jsx(E,{rating:Number(l.avg_rating)}),(l==null?void 0:l.avg_rating)||0]}),e.jsxs("div",{children:["(",(l==null?void 0:l.count_of_rating)||0,") reviews"]})]})]})]})})},r)}))})})]}),es=[{img:"https://r4.wallpaperflare.com/wallpaper/791/501/238/new-york-city-buildings-wallpaper-51351344a10dae2b3cd90e3cb71d503d.jpg"},{img:"https://c0.wallpaperflare.com/path/494/492/40/signage-brand-cyan-yellow-5d1465fafe2d1f3e8deff1bbe07c71ce.jpg"}],ss=({images:s,listing:l})=>{const[r,o]=n.useState(0),d=n.useRef(0);n.useRef(0);const x=O(),[t,h]=n.useState(es);let c=n.useRef(null);const i=async()=>{c.current&&clearTimeout(c.current),y(),c.current=setTimeout(()=>{},15e3)},m=async()=>{c.current&&clearTimeout(c.current),b(),c.current=setTimeout(()=>{},15e3)},p=v=>{d.current=v.touches[0].clientX},u=v=>{const a=v.changedTouches[0].clientX,f=d.current-a;f>50?o(w=>(w+1)%t.length):f<-50&&o(w=>(w-1+t.length)%t.length)},j=v=>{v<(t==null?void 0:t.length)&&(x.setDialog(!0),x.setSelectedSlide(v+1),x.setGallery(t),x.setListing(t))},b=()=>{o(v=>v===0?t.length-1:v-1)},y=()=>{o(v=>v===t.length-1?0:v+1)};n.useEffect(()=>{s&&h(s)},[s]);const g=(v,a)=>{v[0].default||j(a)};return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:" w-full h-[430px] md:h-[500px] flex overflow-hidden  ",children:t==null?void 0:t.map((v,a)=>e.jsxs("div",{className:`h-full w-full relative block flex-shrink-0 flex-grow-0 transition-transform 
                      ease-in-out duration-1000 cursor-pointer`,style:{transform:`translateX(-${r*100}%)`},children:[e.jsx("div",{className:"absolute  left-0 right-0 bottom-0 h-[30%]  w-full bg-gradient-to-b from-transparent to-gray-800"}),e.jsxs("div",{className:"absolute bottom-5 w-full text-center text-white",children:[e.jsxs("div",{children:[a+1," / ",t.length]}),e.jsx("div",{className:"max-w-[80%] mx-auto w-full line-clamp-1 text-center text-sm font-light mt-2",children:v==null?void 0:v.image_title})]}),e.jsx("img",{onTouchStart:p,onTouchEnd:u,onMouseDown:f=>{g(s,a)},src:v!=null&&v.default?v==null?void 0:v.image_url:S.IMG_BASE_URL+(v==null?void 0:v.image_url),alt:"",className:"object-cover w-full h-full "},a)]},a))}),e.jsxs("div",{className:"z-[50]",children:[e.jsx("button",{onMouseDown:m,className:"block absolute top-0 bottom-0 z-[5] p-[1rem] cursor-pointer left-0 group h-full transition duration-1000 ease-in-out",children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
                       flex place-content-center place-items-center group-hover:bg-white/30
                        z-[300] transition duration-500 ease-in-out`,children:e.jsx(C,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("button",{onMouseDown:i,className:`block absolute top-0 bottom-0 
                                                                    z-[5]    p-[1rem] cursor-pointer right-0 group 
                                                                         transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
                        flex place-content-center place-items-center group-hover:bg-white/30
                        z-[300]   transition duration-500 ease-in-out
                        `,children:e.jsx(Ce,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})})]})]})},ls=[{image_url:"/images/abstract_placeholder.jpg",default:!0}],ts=({title:s,images:l,listing:r})=>{const[o,d]=n.useState([]);return n.useEffect(()=>{l.length===0?d(ls):d(l)},[l]),e.jsxs("div",{className:"block md:hidden",children:[e.jsx("div",{className:"bg-black h-[450px] w-full z-[0]",children:e.jsx(ss,{images:o,listing:r})}),e.jsx("div",{className:"px-5 pt-8 pb-5 rounded-t-3xl overflow-hidden bg-white -mt-5 z-[3]",children:e.jsx("div",{className:"text-[25px] font-semibold text-center leading-[1.3em]",children:s})})]})},ee=n.createContext(null);function cs(){const s=n.useContext(ee);return s||null}const as=({children:s})=>{const[l,r]=n.useState(!1),[o,d]=n.useState(null),[x,t]=n.useState(null),[h,c]=n.useState(null),i=Y(),m=u=>{i.setDialog(!0),i.setSelectedSlide(u+1),i.setGallery(o),i.setListing(x)};let p={setShow:r,setVideoGallery:d,setListing:t,setOutVideo:c};return e.jsxs(ee.Provider,{value:p,children:[l&&e.jsxs("div",{onMouseDown:u=>r(!1),className:`flex w-screen h-screen bg-black/80 
                                   z-[20000] fixed top-0 left-0 right-0 bottom-0
                                   place-items-center place-content-center px-[15px]`,children:[e.jsx("div",{onMouseDown:u=>u.stopPropagation(),className:`w-[95%] sm:w-[85%] md:w-[75%] lg:w-[70%] xl:w-[60%] h-[70%] max-h-[80%] 
                                       mx-auto bg-white rounded-lg shadow-lg shadow-black/50 
                                       space-y-6 z-[3100] overflow-hidden`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"border-b py-3 px-3",children:e.jsxs("div",{className:`font-bold text-gray-700
                                               text-xl w-[80%]  truncate`,children:["Gallery for ",x==null?void 0:x.title]})}),e.jsx("div",{className:` 
                                           h-full overflow-y-auto pt-2 px-2 pb-2
                                           bg-white `,children:e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:Array.isArray(h)&&(h==null?void 0:h.map((u,j)=>e.jsxs("div",{className:"mb-2",onClick:()=>{m(j)},children:[e.jsx("div",{className:`relative hover:cursor-pointer
                                                             h-[80px] md:h-[100px] lg:h-[120px] rounded-md bg-black
                                                            overflow-hidden border-[5px] border-gray-200`,children:e.jsx("img",{className:"object-cover w-full h-full",src:u==null?void 0:u.videoThumbnail,alt:""})}),e.jsx("div",{className:"mx-[2px] text-[13px] leading-[1.2em] line-clamp-2 mt-[3px]",children:u==null?void 0:u.videoTitle})]},j)))})})]})}),e.jsx("div",{onMouseDown:()=>r(!1),className:`w-[30px] h-[30px] z-[300] bg-white
                                           flex place-content-center place-items-center
                                           rounded-full absolute left-2 top-2 cursor-pointer
                                           hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(C,{className:"text-[30px]"})})]}),s]})},rs=[{title:"Two More Beers London",star:"4.9",reviews:169,img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2b/c9/bc/33/front-of-the-pub.jpg?w=800&h=-1&s=1"},{title:"Two More Beers London",star:"4.9",reviews:169,img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/31/24/f3/54/exterior.jpg?w=800&h=600&s=1"},{title:"Two More Beers London",star:"4.9",reviews:169,img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/28/54/66/f5/enjoy-a-delicious-drink.jpg?w=800&h=600&s=1"},{title:"Two More Beers London",star:"4.9",reviews:169,img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR9lJXEfx_-xLm-T_ZTYIERDH5ofKPB0YGXtQ&s"},{title:"Two More Beers London",star:"4.9",reviews:169,img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2e/53/cc/5c/main-room.jpg?w=800&h=600&s=1"},{title:"Two More Beers London",star:"4.9",reviews:169,img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/27/ab/49/bd/bow-bar.jpg?w=800&h=600&s=1"},{title:"Two More Beers London",star:"4.9",reviews:169,img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2e/0d/4d/76/outside-front-of-pub.jpg?w=800&h=600&s=1"}],ds=({videoGallery:s,listing:l})=>{const r=n.useRef(null),[o,d]=n.useState(null),[x,t]=n.useState(rs),[h,c]=n.useState(!1),[i,m]=n.useState(null),p=Y(),u=cs(),[j,b]=n.useState([]),y=()=>{r.current&&r.current.scrollBy({left:-300,behavior:"smooth"})},g=()=>{r.current&&r.current.scrollBy({left:300,behavior:"smooth"})};n.useEffect(()=>{(async w=>{let k=[];w==null||w.map((B,D)=>{const te=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,A=B.video_url.match(te);let G=A?A[1]:null,ce=`https://img.youtube.com/vi/${G}/0.jpg`,ae={videoId:G,videoUrl:B.video_url,videoTitle:B.video_title,videoThumbnail:ce,videoGuid:B.video_guid};k.push(ae)}),d(k)})(s)},[s]);const v=f=>{console.log(s),p.setDialog(!0),p.setSelectedSlide(f+1),p.setGallery(s),p.setListing(l)},a=()=>{u.setShow(!0),u.setOutVideo(o),u.setListing(l),u.setVideoGallery(s)};return e.jsx("div",{className:"border-t py-10",children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex place-content-between place-items-baseline",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold",children:"Videos"}),e.jsx("div",{className:"underline text-base cursor-pointer w-fit",onClick:()=>a(),children:"Gallery"})]}),e.jsxs("div",{className:"mt-6 relative",children:[e.jsx("div",{ref:r,className:"flex place-items-start w-full overflow-x-hidden gap-4 rounded-xl",children:o==null?void 0:o.map((f,w)=>e.jsxs("div",{onClick:()=>{v(w)},className:"flex flex-col cursor-pointer w-[250px] min-w-[250px] ",children:[e.jsx("div",{className:"relative w-full  h-[180px] min-h-[180px] rounded-xl overflow-hidden",children:e.jsx("img",{src:f.videoThumbnail,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:"mt-4 relative  ",children:e.jsx("div",{className:"text-base leading-[1.2em] line-clamp-3",children:f.videoTitle})})]},w))}),(o==null?void 0:o.length)>0&&e.jsxs("div",{children:[e.jsx("div",{className:"absolute text-black top-1/2 -translate-y-1/2 left-2 w-[40px] min-w-[40px] h-[40px] bg-white hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded-full z-[5]",onClick:()=>{y()},children:e.jsx(P,{})}),e.jsx("div",{className:"absolute text-black top-1/2 -translate-y-1/2 right-2 w-[40px] min-w-[40px] h-[40px] bg-white hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded-full z-[5] transition-all ease-in-out duration-1000",onClick:()=>{g()},children:e.jsx(M,{})})]})]})]})})},se=n.createContext(null);function os(){const s=n.useContext(se);return s||null}const ns=({children:s})=>{const[l,r]=n.useState(!1),[o,d]=n.useState(),[x,t]=n.useState(),[h,c]=n.useState(!1),i=q(),m=u=>{i.setDialog(!0),i.setSelectedSlide(u+1),i.setGallery(o),i.setListing(x)};let p={setProducts:d,setListing:t,setShow:r};return e.jsxs(se.Provider,{value:p,children:[l&&e.jsx("div",{children:e.jsx("div",{className:"fixed bg-black/80 w-screen h-screen top-0 left-0 z-[3000]",children:e.jsxs("div",{className:" w-full h-full flex place-content-center place-items-center",onMouseDown:u=>r(!1),children:[e.jsxs("div",{className:"max-w-[90%] w-full mx-auto bg-white h-[80%] rounded-lg",onMouseDown:u=>u.stopPropagation(),children:[e.jsx("div",{className:" border-b px-5 py-3",children:e.jsxs("div",{className:"flex place-content-between place-items-center",children:[e.jsxs("div",{className:"text-[17px] font-semibold",children:["Products for ",x==null?void 0:x.title]}),e.jsx("div",{className:""})]})}),e.jsx("div",{className:" w-full h-[90%] overflow-y-auto",children:e.jsx("div",{className:"w-full h-auto grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-8 gap-5 px-5 py-5 ",children:o==null?void 0:o.map((u,j)=>e.jsxs("div",{className:" rounded-md block hover:shadow-md hover:cursor-pointer",onClick:()=>{m(j)},children:[e.jsx("div",{className:" w-full h-[150px] relative ",children:e.jsx("img",{src:S.IMG_BASE_URL+u.product_image_url,alt:"",className:" object-cover w-full h-full"})}),e.jsx("div",{className:"mt-3 text-center line-clamp-2 leading-[1.4em]",children:u==null?void 0:u.product_title})]},j))})})]}),e.jsx("div",{onMouseDown:()=>r(!1),className:`w-[30px] h-[30px] z-[300] bg-white
                                                                flex place-content-center place-items-center
                                                                rounded-full absolute left-2 top-2 cursor-pointer
                                                                hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(C,{className:"text-[30px]"})})]})})}),s]})},is=({listing:s,products:l})=>{const r=n.useRef(null),o=q(),d=os(),x=()=>{r.current&&r.current.scrollBy({left:-300,behavior:"smooth"})},t=()=>{r.current&&r.current.scrollBy({left:300,behavior:"smooth"})},h=i=>{o.setDialog(!0),o.setSelectedSlide(i+1),o.setGallery(l),o.setListing(s)},c=()=>{d.setShow(!0),d.setListing(s),d.setProducts(l)};return e.jsx("div",{className:"border-t py-10",children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex place-content-between place-items-baseline",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold",children:"Products"}),e.jsx("div",{className:"underline text-base cursor-pointer w-fit",onClick:()=>c(),children:"Gallery"})]}),e.jsxs("div",{className:"mt-6 relative",children:[e.jsx("div",{ref:r,className:"flex place-items-center overflow-x-hidden gap-4 rounded-xl",children:l==null?void 0:l.map((i,m)=>e.jsxs("div",{className:"w-[250px] min-w-[250px] cursor-pointer",onClick:()=>{h(m)},children:[e.jsx("div",{className:"relative w-full h-[180px] rounded-xl overflow-hidden bg-blue-200",children:e.jsx("img",{src:S.IMG_BASE_URL+i.product_image_url,alt:"",className:"object-cover h-full w-full"})}),e.jsxs("div",{className:"mt-4 ",children:[e.jsx("div",{className:"text-[14px] leading-[1.2em]",children:i.product_title}),e.jsxs("div",{className:"mt-2 relative",children:[e.jsxs("div",{className:"text-sm line-clamp-2",children:[i.product_description," reviews among one of the best increases of time."]}),e.jsx("div",{})]})]})]},m))}),(l==null?void 0:l.length)>0&&e.jsxs("div",{children:[e.jsx("div",{className:"absolute text-black top-1/2 -translate-y-1/2 left-2 w-[40px] min-w-[40px] h-[40px] bg-white hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded-full z-[5]",onClick:()=>{x()},children:e.jsx(P,{})}),e.jsx("div",{className:"absolute text-black top-1/2 -translate-y-1/2 right-2 w-[40px] min-w-[40px] h-[40px] bg-white hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded-full z-[5] transition-all ease-in-out duration-1000",onClick:()=>{t()},children:e.jsx(M,{})})]})]})]})})},xs=({listing:s})=>{const[l,r]=n.useState(""),[o,d]=n.useState(null);return n.useEffect(()=>{o!==null&&console.log(o)},[o]),n.useEffect(()=>{s!==null&&(async t=>{const h=[],c=await Pe(t==null?void 0:t.gid);c==null||c.map((i,m)=>{const p=i==null?void 0:i.social_media_identifier,u=Me(p);let j="";u?j=p:j=`${i==null?void 0:i.base_url}${i==null?void 0:i.social_media_identifier}`,h.push({media:i==null?void 0:i.social_media_name,icon:Te(i),name:i==null?void 0:i.social_media_name,link:j})}),t!=null&&t.website&&h.push({media:t==null?void 0:t.website,icon:e.jsx($,{}),name:"Website",link:`${t==null?void 0:t.website}`}),t!=null&&t.email_address&&h.push({media:t==null?void 0:t.email_address,icon:e.jsx(W,{}),name:"Email Address",link:`mailto:${t==null?void 0:t.email_address}`}),t!=null&&t.phone&&h.push({media:t==null?void 0:t.phone,icon:e.jsx(V,{}),name:"Phone",link:`tel:${t==null?void 0:t.phone}`}),d(h)})(s)},[s]),e.jsxs("div",{className:"mt-12 border-t py-10",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold ",children:"Social Media"}),e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-2 w-full gap-4",children:o==null?void 0:o.map((x,t)=>e.jsx("div",{children:e.jsx(_,{to:x.link,children:e.jsxs("div",{className:"py-2.5 flex place-items-center gap-4 group cursor-pointer",children:[e.jsx("div",{className:"text-[19px]",children:x.icon}),e.jsx("div",{className:"text-[15px] cursor-pointer group-hover:underline w-full ",children:x.name})]})})},t))})})]})},le=n.createContext(null),hs=()=>{const s=n.useContext(le);return s||null},ms=({children:s})=>{const[l,r]=n.useState(!1),[o,d]=n.useState(""),[x,t]=n.useState(""),[h,c]=n.useState("");let i={setDescription:d,setShow:r,setTitle:t,setUrl:c};return e.jsxs(le.Provider,{value:i,children:[e.jsx("div",{children:l&&e.jsxs("div",{className:"fixed top-0 left-0 w-full right-0 bg-black/40 z-[4000] h-full flex place-items-center place-content-center",onClick:()=>r(!1),children:[e.jsx(us,{setShow:r}),e.jsxs("div",{className:"max-w-[660px] min-h-[50%] max-h-[80%]  mx-auto w-full bg-white rounded-[40px] px-[32px] pt-12 pb-20 relative",onClick:m=>m.stopPropagation(),children:[e.jsx("div",{className:"absolute top-8 right-8 text-3xl border-[2px] rounded-xl border-gray-500/20 w-[40px] h-[40px] shadow-sm flex place-items-center place-content-center text-gray-500 cursor-pointer hover:bg-gray-100 hover:border-gray-200/50",onClick:()=>r(!1),children:e.jsx(U,{})}),e.jsx("div",{className:"text-3xl",children:"Service Description"}),e.jsx("div",{className:"text-xl mt-6 line-clamp-1",children:x}),e.jsxs("div",{className:" whitespace-pre-wrap mt-6 max-h-[280px] overflow-y-auto",children:[o,e.jsx("div",{className:"h-[30px]"}),h?e.jsxs("div",{children:[e.jsx(_,{to:h,className:"underline",children:"Service Link"}),e.jsx("div",{className:"h-[60px]"})]}):e.jsx("div",{className:"h-[30px]"})]})]})]})}),s]})},us=({setShow:s})=>e.jsx("div",{onClick:()=>s(!1),children:e.jsx("div",{className:"w-[30px] h-[30px] flex place-items-center place-content-center rounded-full absolute top-2 left-2 bg-white text-[25px] font-bold transition-all ease-in-out duration-700 cursor-pointer hover:bg-white/40",children:e.jsx(C,{})})}),vs=({services:s})=>{const l=hs(),r=o=>{l==null||l.setShow(!0),l==null||l.setDescription(o.service_description),l==null||l.setTitle(o.service_name),l==null||l.setUrl(o.service_url)};return e.jsxs("div",{className:"mt-12 border-t py-10",children:[e.jsx("div",{className:"text-[22px] md:text-[25px] font-semibold ",children:"Services"}),e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-2 w-full gap-4",children:s==null?void 0:s.map((o,d)=>e.jsx("div",{onClick:()=>r(o),className:"cursor-pointer ",children:e.jsx("div",{className:"py-2.5 ",children:e.jsxs("div",{className:"flex text-[15px] group place-items-center gap-1",children:[e.jsx("div",{children:d+1}),e.jsx("div",{children:"-"}),e.jsx("div",{className:"text-[15px]  w-full group-hover:underline ",children:o==null?void 0:o.service_name})]})})},d))})})]})},z=()=>e.jsx("div",{className:"w-full mt-12",children:e.jsxs("div",{className:"border border-gray-100 p-5 pt-7 rounded-xl  shadow-lg shadow-gray-200 pb-7",children:[e.jsxs("div",{className:"flex place-content-between",children:[e.jsx("div",{className:"text-[17px] font-semibold",children:"Is this business yours?"}),e.jsx("div",{className:"flex place-items-center gap-1",children:e.jsx(Ee,{className:"text-xl"})})]}),e.jsx("div",{className:"flex place-items-center mt-6 text-[14px] font-light text-center w-[80%] place-content-center mx-auto leading-[1.3em]",children:"Do you own this business? You can reach out and claim it for free!"}),e.jsxs("div",{className:"mt-6 flex place-content-center w-full flex-col place-items-center",children:[e.jsx(_,{to:"/web/contact",className:"w-[70%]",children:e.jsx("button",{className:"bg-[#A52A2A] w-full rounded-full py-4 text-white text-lg",children:"Claim Business"})}),e.jsx("div",{className:"mt-2 text-center",children:"You woun't be charged"})]})]})}),fs=({ratings:s,listing:l,reviewContext:r,businessRating:o})=>{const[d,x]=n.useState(),[t,h]=n.useState(0);return n.useEffect(()=>{var c;if(s){x(s);const i=parseFloat((c=Number(s==null?void 0:s.rating_average))==null?void 0:c.toFixed(1));h(i)}},[s]),e.jsx("div",{className:"mb-8 border-b border-solid md:border-none",children:e.jsxs("div",{className:"grid grid-cols-3 border-none md:border md:border-solid rounded-3xl py-5 divide-x ",children:[e.jsx("div",{className:"text-lg flex flex-col  place-items-center place-content-center",children:e.jsxs("div",{className:"mx-[50%] text-center leading-[1.2em] text-[14px] md:text-[15px] font-semibold",children:[e.jsx("div",{className:"md:hidden",children:e.jsx(J,{listing:l,reviewContext:r})}),e.jsx("span",{className:"md:block hidden",children:"User Reviews"})]})}),e.jsxs("div",{className:"flex flex-col place-items-center gap-y-1",children:[e.jsx("div",{className:"text-xl font-semibold md:text-2xl",children:(o==null?void 0:o.avg_rating)||0}),e.jsx("div",{className:"text-lg",children:e.jsx(E,{rating:Number(o==null?void 0:o.avg_rating)||0})})]}),e.jsxs("div",{className:"flex flex-col place-items-center gap-y-0",children:[e.jsx("div",{className:"text-xl font-semibold md:text-2xl",children:(o==null?void 0:o.count_of_rating)||0}),e.jsx("div",{className:"text-[12px]",children:"Reviews"})]})]})})},Gs=()=>{var k;const s=F(),l=re(),[r,o]=n.useState(void 0),[d,x]=n.useState(!1),t=X(),[h,c]=n.useState("");let i,m,p,u,j,b,y,g,v,a,f,w;return i=l.listing,m=l.gallery,p=l.ratingsData,u=l.videoGallery,j=l.products,b=l.profileImageData,l.businessProfileBgData,y=l.reportTime,g=l.businessRating,v=l.businessReviews,a=l.related,f=l.nearby,w=(k=l.services)==null?void 0:k.data,console.log(b),n.useEffect(()=>{i&&y&&o(y)},[i,y]),n.useEffect(()=>{b&&c(S.IMG_BASE_URL+(b==null?void 0:b.image_url))},[b]),e.jsx(oe,{children:e.jsx(ne,{children:e.jsxs(ie,{children:[e.jsx(ts,{title:i==null?void 0:i.title,images:m,listing:i}),e.jsxs("div",{className:"px-[20px] bg-gray-50/20",children:[e.jsxs("div",{className:"max-w-[1100px] mx-auto w-full mt-0 md:mt-12",children:[e.jsxs("div",{className:"hidden md:block",children:[e.jsx(Ve,{listing:i,ratingsData:p,reviewContext:s,showShare:d,shareContext:t,profileImg:h,profileImageData:b}),m&&i&&e.jsx(ze,{images:m,listing:i})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 lg:gap-x-24 mt-0 md:mt-12",children:[e.jsxs("div",{className:" md:col-span-7",children:[e.jsx(Q,{children:e.jsx(fs,{listing:i,ratings:p,reviewContext:s,businessRating:g})}),e.jsx(Xe,{listing:i,reportTime:y,operatingHoursStatus:r}),e.jsx(R,{children:e.jsx(Fe,{listing:i})}),e.jsxs("div",{className:"block lg:hidden mb-12",children:[e.jsx(I,{listing:i,operatingHoursStatus:r,workTimeStatusObject:y.todayHoursOpenStatus}),e.jsx(z,{})]}),e.jsx(as,{children:e.jsx(ds,{listing:i,videoGallery:u})}),e.jsx(xs,{listing:i}),e.jsx(ms,{children:e.jsx(vs,{services:w})}),e.jsx(Re,{children:e.jsx(ns,{children:e.jsx(is,{listing:i,products:j})})}),e.jsx(R,{children:e.jsx(Qe,{listing:i})}),e.jsx(Ye,{listing:i})]}),e.jsx("div",{className:"hidden lg:block lg:col-span-5 relative w-full",children:e.jsxs("div",{className:"sticky top-[100px] w-full",children:[e.jsx(I,{listing:i,operatingHoursStatus:r,workTimeStatusObject:y.todayHoursOpenStatus}),e.jsx(z,{})]})})]}),e.jsx(qe,{businessRating:g,listing:i}),e.jsx(Je,{businessReviews:v}),e.jsx(Ke,{related:a})]}),e.jsx("div",{className:"max-w-[1100px] mx-auto w-full mt-12",children:e.jsx(Ze,{nearby:f})})]})]})})})};export{Gs as default};

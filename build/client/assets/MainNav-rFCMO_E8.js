import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{L as j,r as l,a as N,F as Q,b as F,u as D,d as H,e as K}from"./components-DGrJwBOK.js";import{w as V,aY as G,v as I,aZ as J,a_ as T,a$ as Y,b0 as Z,b1 as W,y as X,aJ as z,x as ee,f as _,aO as B,ai as $,aM as se,aN as te,a0 as ae,a4 as ne,b2 as re,a2 as le,b3 as ce}from"./lib-k8WFHaWl.js";import{I as oe}from"./index-BcoEYQqA.js";import{L as ie}from"./LeftNav-B93XguDD.js";import{u as S,A as de}from"./AuthContext-BZd2vK8z.js";const R=()=>e.jsx("div",{className:"text-3xl font-extrabold font-sans tracking-tight text-[#6001D2]",children:e.jsxs(j,{to:"/",children:[e.jsx("i",{children:"b"}),"ycet"]})}),O=l.createContext(null),ue=()=>{const a=l.useContext(O);return a||null},xe=({children:a})=>{const[t,r]=l.useState(!1),[c,o]=l.useState(!1),i={isOpen:c,showMenu:()=>o(!0),closeMenu:()=>o(!1)};return e.jsx(O.Provider,{value:i,children:a})},he=[{title:"Home",url:"/",icon:e.jsx(G,{})},{title:"Search",url:`${V.searchBaseUrl}`,icon:e.jsx(I,{})},{title:"Contact",url:"/web/contact",icon:e.jsx(J,{})},{title:"Terms of Use",url:"/web/terms",icon:e.jsx(T,{})},{title:"Privacy",url:"/web/privacy",icon:e.jsx(Y,{})},{title:"Responsible Disclosure",url:"/web/responsible_disclosure",icon:e.jsx(Z,{})},{title:"Copyright",url:"/web/copyright",icon:e.jsx(W,{})}],pe=({openMenu:a,closeNav:t})=>{N();const r=a?"translate-x-0":"translate-x-[-100%]",c=a?"block":"hidden",[o,x]=l.useState(null),n=S();if(!n)return null;const{user:i}=n;return l.useEffect(()=>{const d=async f=>{const p=await X(f||"");x(p)};n!=null&&n.user&&d(n==null?void 0:n.user.guid)},[n==null?void 0:n.user]),e.jsxs("div",{className:"",children:[e.jsx("div",{onClick:t,className:`transform fixed transition-all duration-500 inset-0 z-4000 bg-black opacity-20 w-full ${c}`}),e.jsx("div",{className:`transform transition-all duration-500 delay-0 fixed justify-start h-full w-full md:w-[320px] bg-white z-[4001] overflow-y-auto top-0 left-0 text-black ${r} ${a?"shadow-lg shadow-black/50":""} bg-[url(https://unbound.radiantthemes.com/wp-content/uploads/2022/03/Banner-Image.png?id=8229)]`,children:e.jsxs("div",{className:"bg-transparent ",children:[e.jsxs("div",{className:" px-4 md:pl-12 flex place-content-between h-[60px] place-items-center",children:[e.jsx("div",{className:"h-full flex justify-center items-center",children:e.jsx(R,{})}),e.jsx("div",{className:"h-full flex justify-center items-center cursor-pointer",children:e.jsx("div",{onClick:t,className:"w-[30px] h-[30px] bg-gray-200 rounded-full flex justify-center items-center hover:bg-blue-600 hover:text-white border border-gray-500 group",children:e.jsx(oe,{size:28,className:" transition-all duration-500 ease-in-out group-hover:rotate-90"})})})]}),e.jsx("hr",{className:"mobile-nav-hrule"}),e.jsx(ge,{menuData:he,closeNav:t}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-[20px]"}),e.jsx("div",{className:"mt-[20px]"}),i&&e.jsx(ie,{userProfile:o})]}),e.jsx("div",{className:"h-10"})]})})]})},ge=({menuData:a,closeNav:t})=>{const r=N();return e.jsx("div",{children:a.map((c,o)=>(c.icon,e.jsx("div",{children:e.jsx(Q,{to:c.url,onClick:()=>t(),children:e.jsxs("div",{className:`group text-[15px] py-2 px-4 rounded-none hover:bg-gray-200 hover:cursor-pointer flex place-items-center place-content-between w-full hover:text-gray-500 ${r.pathname===c.url&&" bg-gray-200 text-black"}`,children:[e.jsxs("div",{className:" flex place-items-center gap-10 py-1",children:[e.jsx("div",{className:"w-[22px] h-[20px] flex place-items-center place-content-center  text-[20px]",children:c.icon}),e.jsx("div",{className:"text-[13px]",children:c.title})]}),e.jsx("div",{children:e.jsx(z,{size:20,className:"transition-all delay-0 duration-500 ease-in-out group-hover:rotate-90"})})]})})},o)))})},fe=()=>{const a=ue();return e.jsxs("div",{className:"text-2xl",children:[e.jsx("div",{className:"z-[10000]",children:e.jsx(pe,{openMenu:a==null?void 0:a.isOpen,closeNav:a==null?void 0:a.closeMenu})}),e.jsx("div",{className:"cursor-pointer",onClick:()=>a==null?void 0:a.showMenu(),children:e.jsx(ee,{})})]})},me=()=>{const a=S();if(!a)return null;const{user:t}=a,[r,c]=l.useState(""),[o,x]=l.useState(null);return l.useEffect(()=>{c((t==null?void 0:t.first_name)+" "+(t==null?void 0:t.last_name))},[t]),l.useEffect(()=>{const n=async i=>{const d=await $(i);x(d)};(t==null?void 0:t.guid)!==null&&n(t==null?void 0:t.guid)},[t]),e.jsx(j,{to:"/web/account/profile",children:e.jsxs("div",{className:`flex hover:bg-gray-100 px-[10px] py-[5px] 
        hover:cursor-pointer gap-2 place-items-center`,children:[e.jsx("div",{className:` relative h-[30px] w-[30px] rounded-full
                    overflow-hidden flex place-content-center place-items-center
                    bg-white`,children:o!=null&&o.image_url?e.jsx("img",{className:"object-cover w-full h-full",src:_.IMG_BASE_URL+(o==null?void 0:o.image_url),alt:""}):e.jsx(B,{className:"object-cover w-[70%] h-[70%]"})}),e.jsx("div",{className:`truncate text-[13px] inline-block
                    text-gray-500`,children:r})]})})},ve=()=>e.jsx(j,{to:"/web/account/profile",children:e.jsxs("div",{className:`flex hover:bg-gray-100 px-[10px] py-[5px] 
        hover:cursor-pointer gap-2 place-items-center`,children:[e.jsx("div",{className:`bg-gray-200 h-[30px] w-[30px] rounded-full
                flex place-items-center place-content-center border`,children:e.jsx(se,{className:"text-[20px]"})}),e.jsx("div",{className:"truncate text-[13px] text-gray-500",children:"Account & Settings"})]})}),je=()=>{const a=S();if(!a)return null;const{signoutReload:t}=a;return e.jsxs("div",{onClick:()=>t(),className:`flex hover:bg-gray-100 px-[10px] py-[5px] 
        hover:cursor-pointer gap-2 place-items-center`,children:[e.jsx("div",{className:`bg-gray-200 h-[30px] w-[30px] rounded-full
                flex place-items-center place-content-center border`,children:e.jsx(te,{className:"text-[20px]"})}),e.jsx("div",{className:"truncate text-[13px] text-gray-500",children:"Signout"})]})},be=({open:a})=>e.jsx("div",{children:a&&e.jsx("div",{className:"absolute z-[1000]",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"absolute right-[-25px] top-[5px]",children:e.jsxs("div",{className:`w-[250px] bg-white rounded-xl p-[5px] 
                            shadow-lg
                                shadow-black/30`,children:[e.jsx(me,{}),e.jsx("div",{className:"px-[10px] my-1",children:e.jsx("hr",{})}),e.jsxs("div",{children:[e.jsx(ve,{}),e.jsx(je,{})]})]})})})})}),we=({userProfileImgData:a})=>{const t=S();if(!t)return null;const{user:r}=t,[c,o]=l.useState("");return l.useEffect(()=>{o((r==null?void 0:r.first_name)+" "+(r==null?void 0:r.last_name))},[r]),e.jsx("div",{className:` relative h-full w-full rounded-full
                    overflow-hidden flex place-content-center place-items-center
                    bg-white z-0`,children:a!=null&&a.image_url?e.jsx("img",{className:"object-cover w-full h-full z-0",src:_.IMG_BASE_URL+(a==null?void 0:a.image_url),alt:""}):e.jsx(B,{className:"object-cover w-[70%] h-[70%] z-0"})})},ye=()=>{const[a,t]=l.useState(!1),r=S(),c=r==null?void 0:r.user,o=()=>t(!0),x=async()=>{await new Promise(d=>setTimeout(d,300)),t(!1)},[n,i]=l.useState(null);return l.useEffect(()=>{const d=async f=>{const p=await $(f);i(p)};(c==null?void 0:c.guid)!==null&&(c==null?void 0:c.guid)!==void 0&&d(c==null?void 0:c.guid)},[c]),e.jsxs("div",{children:[c?e.jsx("button",{onClick:d=>o(),onBlur:d=>x(),className:"w-[40px] h-[40px] bg-gray-400 hover:bg-gray-300 rounded-full text-white flex place-items-center place-content-center text-[13px] relative cursor-pointer",children:n!==null?e.jsx(we,{userProfileImgData:n}):e.jsx(B,{className:"object-cover w-[80%] h-[80%]"})}):e.jsx(j,{to:"/web/signin",children:e.jsx("button",{className:"text-lg border rounded-full w-[80px] py-[4px] hover:border border-[#6001D2] shadow-md hover:bg-[#6001D2] hover:text-white",children:"Sign in"})}),e.jsx(be,{open:a})]})},Ne=[{title:"Hotels",url:"/web/category/hotels"},{title:"Real Estate",url:"/web/category/real-estate"},{title:"Restaurants",url:"/web/category/restaurants"}],Se=()=>{const a=N();return e.jsxs("div",{className:"lg:flex gap-8 hidden px-4",children:[e.jsx("div",{className:`${a.pathname.includes("/web/search")&&"underline"}`,children:e.jsx(j,{to:"/web/search",children:e.jsx("div",{className:"flex place-items-center group hover:underline",children:e.jsx("div",{className:"text-[14px] font-extrabold pr-2",children:"Search"})})})}),Ne.map((t,r)=>e.jsx("div",{className:`hover:text-[#6001D2] ${a.pathname===t.url&&"underline"}`,children:e.jsx(j,{to:t.url,children:e.jsxs("div",{className:"flex place-items-center group hover:underline",children:[e.jsx("div",{className:"text-[14px]",children:t.title}),e.jsx(z,{className:"text-[15px] relative group-hover:rotate-90 transition-all ease-in-out duration-500 font-bold "})]})})},r))]})},Ce=({queryInput:a,onQueryChange:t,loading:r=!1,initialFilters:c={q:"",category:"",country:"",state:"",city:""}})=>{const o=F(),x=N(),[n,i]=l.useState(c),[d,f]=l.useState([]),[p,C]=l.useState([]),[b,k]=l.useState([]),[M,E]=l.useState([]);l.useEffect(()=>{const s=new URLSearchParams(x.search);i({q:s.get("q")||"",category:s.get("category")||"",country:s.get("country")||"",state:s.get("state")||"",city:s.get("city")||""})},[x.search]),l.useEffect(()=>{L(),q()},[]),l.useEffect(()=>{n.country?A(n.country):k([])},[n.country]),l.useEffect(()=>{n.country&&n.state?m(n.country,n.state):E([])},[n.country,n.state]);const L=async()=>{const s=ae.sort((u,h)=>u.name.localeCompare(h.name));f(s)},q=async()=>{try{const s=await ne();C(s||[])}catch(s){console.error("Failed to fetch countries:",s)}},A=async s=>{try{const u=await re(s);k(u||[])}catch(u){console.error("Failed to fetch countries:",u)}},m=async(s,u)=>{try{const h=await le(s,u);E(h||[])}catch(h){console.error("Failed to fetch countries:",h)}},v=(s,u)=>{s==="q"?(i(h=>({...h,q:u})),t&&t(u)):i(h=>({...h,[s]:u}))},w=s=>{v("country",s),A(s)},P=s=>{v("state",s),m(n.country,s)},y=()=>{const s=new URLSearchParams;n.q&&s.set("q",n.q),n.category&&s.set("category",n.category),n.country&&s.set("country",n.country),n.state&&s.set("state",n.state),n.city&&s.set("city",n.city),s.set("page","1"),o(`/web/search?${s.toString()}`)},U=s=>{s.key==="Enter"&&y()},g=()=>{o(x.pathname)};return l.useEffect(()=>{a!==void 0&&a!==n.q&&i(s=>({...s,q:a}))},[a]),e.jsxs("div",{className:"w-full space-y-3 p-4 bg-gray-50 rounded-lg border",children:[e.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("div",{className:"w-full",children:e.jsx("input",{id:"query",type:"text",value:n.q,onChange:s=>v("q",s.target.value),onKeyPress:U,placeholder:"Hotel, Restaurant or ABC Inc.",className:"w-full px-3 border border-gray-300 rounded outline-none h-[35px] focus:border-blue-500 focus:ring-1 focus:ring-blue-500",disabled:r})}),e.jsx("div",{className:"w-full",children:e.jsxs("select",{id:"category",value:n.category,onChange:s=>v("category",s.target.value),className:"w-full h-[35px] border border-gray-300 rounded px-2 outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",disabled:r,children:[e.jsx("option",{value:"",children:"All Categories"}),d.map((s,u)=>e.jsx("option",{value:s==null?void 0:s.id,children:s==null?void 0:s.name},s==null?void 0:s.id))]})})]}),e.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("div",{className:"w-full",children:e.jsxs("select",{id:"country",value:n.country,onChange:s=>w(s.target.value),className:"w-full h-[35px] border border-gray-300 rounded px-2 outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",disabled:r,children:[e.jsx("option",{value:"",children:"All Countries"}),p.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})}),e.jsx("div",{className:"w-full",children:e.jsxs("select",{id:"state",value:n.state,onChange:s=>P(s.target.value),className:"w-full h-[35px] border border-gray-300 rounded px-2 outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",disabled:r||!n.country,children:[e.jsx("option",{value:"",children:"All States"}),b.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})})]}),e.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("div",{className:"w-full",children:e.jsxs("select",{id:"city",value:n.city,onChange:s=>v("city",s.target.value),className:"w-full h-[35px] border border-gray-300 rounded px-2 outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",disabled:r||!n.state,children:[e.jsx("option",{value:"",children:"All Cities"}),M==null?void 0:M.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))]})}),e.jsxs("div",{className:"w-full flex gap-2",children:[e.jsx("button",{onClick:y,disabled:r,className:"flex-1 bg-blue-600 text-white h-[35px] px-4 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Searching...":"Search"}),e.jsx("button",{onClick:g,disabled:r,className:"px-4 h-[35px] border border-gray-300 rounded text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Clear"})]})]}),r&&e.jsx("div",{className:"text-center text-blue-600 text-sm",children:"Loading results..."})]})},ke=()=>{var y,U;const a=F(),t=D(),[r]=H(),[c,o]=l.useState([]),[x,n]=l.useState({q:""}),d=K().state==="loading";(y=t==null?void 0:t.data)!=null&&y.items,(U=t==null?void 0:t.data)==null||U.pagination,t==null||t.query,t==null||t.countries;const[f,p]=l.useState(!1),[C,b]=l.useState(""),k={q:r.get("q")||"",category:r.get("category")||"",country:r.get("country")||"",state:r.get("state")||"",city:r.get("city")||""},[M,E]=l.useState(""),L=g=>{b(g),w(g)},q=N(),m=new URLSearchParams(q.search).get("q")||"",[v,w]=l.useState(""),P=g=>{const s=g.target.value;b(s),w(s)};return l.useEffect(()=>{m!==""&&(b(m),w(m))},[m]),e.jsxs("div",{className:"w-full flex flex-col group z-10",children:[e.jsxs("div",{className:"bg-blue-50 w-full h-[34px] rounded-full flex place-items-center pl-4  group-hover:bg-white hover:shadow-lg z-0",onClick:()=>p(!0),children:[e.jsx("input",{type:"text",name:"q",value:v,placeholder:"Search directory...",className:"bg-transparent w-full outline-none text-lg",onChange:P,onKeyUp:g=>{if(g.key==="Enter"){const s=new URLSearchParams(q.search);s.set("q",C),s.set("page","1"),a(`/web/search?${s.toString()}`)}}}),e.jsx("button",{className:"bg-[#6001D2] h-full w-[60px] rounded-full flex place-items-center place-content-center text-white",children:e.jsx(ce,{})})]}),e.jsx("div",{className:`w-full h-auto absolute z-30 top-[60px] left-0 bg-white shadow-lg shadow-black/20  ${f?"block":"hidden"}`,onMouseLeave:()=>p(!1),children:e.jsx("div",{className:"md:w-[85%] mx-auto w-full pb-5",children:e.jsx(Ce,{queryInput:C,onQueryChange:L,loading:d,initialFilters:k})})})]})},Pe=()=>e.jsx(xe,{children:e.jsx(de,{children:e.jsxs("div",{children:[e.jsx("div",{className:"h-[60px] fixed z-10 w-full left-0 top-0 right-0 shadow-sm bg-white",children:e.jsxs("div",{className:"flex place-content-between place-items-center h-full max-w-[96%] mx-auto w-full gap-6",children:[e.jsxs("div",{className:"flex place-items-center place-content-start gap-4  grow h-full",children:[e.jsx(fe,{}),e.jsx(R,{}),e.jsx(ke,{})]}),e.jsxs("div",{className:"flex place-items-center gap-6",children:[e.jsx(Se,{}),e.jsx(ye,{})]})]})}),e.jsx("div",{className:"h-[60px] z-0"})]})})});export{Pe as M};

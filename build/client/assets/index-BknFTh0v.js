import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r,a as ye,L as te,R as Q,u as _e}from"./components-C1WRcSP2.js";import{I as W}from"./index-Du5AlYaH.js";import{u as I}from"./SliderContext-BjGPTmWf.js";import{u as le}from"./AuthContext-D0eOorZu.js";import{u as Se,a as ge}from"./zod-Ctzy-QJu.js";import{u as ce}from"./NotificationContext-BetFjoDL.js";import{u as ke}from"./OperationContext-S2E0zlUA.js";import{o as Re,a as D}from"./types-DBTFAyTi.js";import{z as Ee,b0 as Le,f as T,g as V,aC as Be,i as Pe,b1 as Te,ae as Ae,ap as Ge,b2 as Me,b3 as $e,b4 as H,b5 as Fe,b6 as ze,b7 as re,B as Ce,a as Ue,b8 as Oe,b9 as De,ba as ae,k as ne,bb as We,bc as Ie,bd as Ve,be as Xe,bf as qe,bg as Je,bh as Ke,bi as Ye,bj as Ze,E as Qe,an as He,bk as es,bl as ss,at as ts,au as ls,bm as cs,bn as rs,o as C,bo as as,bp as ns,e as os,bq as ds,l as xs}from"./lib-D7HpII3j.js";import{R as X}from"./RatingBoxSquare-DWl4PI7P.js";import{u as oe}from"./VideoSliderContext-Yjyac6rD.js";import{u as is,P as hs}from"./ProductSliderContext-D4SdVYiY.js";import{T as us}from"./TopAd-uwY6gA3y.js";import{S as ms}from"./SearchLayout-Cin4_5su.js";import{V as ps}from"./VerticalHeight-CjKseacd.js";import{F as fs}from"./FooterAlt-MU5-65Oj.js";import"./json-DlBoYomk.js";import"./MainNav-Bb2w4Qc1.js";import"./LeftNav-KDTwDuDD.js";const de=r.createContext(null);function xe(){return r.useContext(de)}const js=({children:s})=>{const[l,t]=r.useState(!1),[a,i]=r.useState(null),d=I(),[o,c]=r.useState(null),n="https://pics.gasimg.com",m=()=>t(!1);let j={setShow:t,setGallery:i,setListing:c};const v=f=>{d.setDialog(!0),d.setSelectedSlide(f+1),d.setGallery(a)};return r.useEffect(()=>{const f=b=>{b.key==="Escape"&&m()};return l&&document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[l]),e.jsxs(de.Provider,{value:j,children:[l&&e.jsxs("div",{onMouseDown:f=>t(!1),className:`flex w-screen h-screen bg-black/40 
                        z-[20000] fixed top-0 left-0 right-0 bottom-0
                        place-items-center place-content-center px-[15px]`,children:[e.jsx("div",{onMouseDown:f=>f.stopPropagation(),className:`min-w-[95%] w-[95%] sm:w-[95%] md:w-[80%] h-[80%] max-h-[80%] 
                            mx-auto bg-white rounded-lg shadow-lg shadow-black/50 
                            space-y-6 z-[3100] overflow-hidden`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"border-b py-3 px-3",children:e.jsxs("div",{className:`font-bold text-gray-700
                                    text-xl w-[80%]  truncate`,children:["Gallery for ",o&&(o==null?void 0:o.title)]})}),e.jsx("div",{className:` 
                                h-full overflow-y-auto pt-2 px-2 pb-2
                                bg-white `,children:e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:a&&(a==null?void 0:a.map((f,b)=>e.jsx("div",{onClick:()=>v(b),className:`relative hover:cursor-pointer
                                                 bg-red-200 h-[80px] md:h-[100px] lg:h-[120px] rounded-md
                                                 overflow-hidden`,children:e.jsx("img",{className:"object-cover w-full h-full",src:n+f.image_url,alt:""})})))})})]})}),e.jsx("div",{onMouseDown:()=>m(),className:`w-[50px] h-[50px] z-[300] bg-white
                                flex place-content-center place-items-center
                                rounded-full absolute left-2 top-2 cursor-pointer
                                hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(W,{className:"text-[30px]"})})]}),s]})},z=100,ie=r.createContext(null);function bs(){return r.useContext(ie)}const vs=Re({fullname:D(),rating:D(),comment:D()});function ws({children:s}){var q,J,K;const[l,t]=r.useState(!1),[a,i]=r.useState(!1),[d,o]=r.useState(null),[c,n]=r.useState(void 0),[m,j]=r.useState("");ce();const{showOperation:v,showError:f,completeOperation:b,showSuccess:_}=ke(),[g,p]=r.useState(5),u=le();if(!u)return null;let{user:w}=u;const[k,y]=r.useState(null),[E,S]=r.useState(!1),B=N=>N.trim()===""?0:N.trim().split(/\s+/).length,x=N=>{let R=N.target.value,G=N.target.name;y($=>({...$,[G]:R}))},{register:h,handleSubmit:P,getValues:U,setValue:O,watch:me,reset:pe,setError:Qs,formState:{errors:M,isSubmitting:Hs}}=Se({resolver:ge(vs)}),fe=N=>{const R=N.target.value,G=R.trim().split(/\s+/);if(G.length<=z)O("text",R),S(!1);else{S(!0);const $=G.slice(0,z).join(" ");O("text",$)}},je=async N=>{v("processing"),await new Promise(F=>setTimeout(F,1e3));const R=w.guid,G=d.gid;N.user_guid=R,N.business_guid=G;const Ne="https://bycet.com"+"/api/rating";try{const F=await fetch(Ne,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),Z=await F.json();F.ok?(_("Success","Rating submitted."),b()):(console.log(Z.error),f("Error",Z.error),b())}catch(F){f("Error","Rating not submitted."),b(),console.log(F.message)}};let be={show:l,setShow:t,setListing:o,reset:pe,setRatingData:n,validateData:async(N,R)=>{if((N==null?void 0:N.length)===0){let G=(R==null?void 0:R.first_name)||"",$=(R==null?void 0:R.last_name)||"",Y=G+" "+$;O("fullname",Y)}}};const ve=me("text")||"",we=N=>{ve.trim().split(/\s+/).length>=z&&N.key!=="Backspace"&&N.key!=="Delete"&&!N.ctrlKey?(N.preventDefault(),S(!0)):S(!1)};return r.useEffect(()=>{const N=R=>{R.key==="Escape"&&t(!1)};return l&&document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[l]),e.jsxs(ie.Provider,{value:be,children:[l&&e.jsx("div",{className:`flex w-full h-full bg-black/40 z-[3000] 
                fixed top-0 left-0 right-0 bottom-0 place-items-center place-content-center`,children:e.jsx("div",{className:"max-w-[400px] w-full h-fit mx-auto bg-white rounded-xl shadow-md ",children:e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Create/Edit Rating"}),e.jsxs("form",{onSubmit:P(je),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Full Name"}),e.jsx("input",{...h("fullname",{onChange:x}),type:"text",className:`w-full px-3 py-2 border rounded-md
                                        text-sm`,placeholder:"Enter Business GUID"}),((q=M.fullname)==null?void 0:q.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:M.fullname.message.toString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Stars"}),e.jsx("select",{...h("rating",{onChange:N=>{p(Number(N.target.value)),x(N)}}),className:`w-full px-3 py-2 border rounded-md
                                        text-sm`,children:[5,4,3,2,1].map(N=>e.jsxs("option",{value:N,children:[N," Star",N>1?"s":""]},N))}),((J=M.rating)==null?void 0:J.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:M.rating.message.toString()})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex place-content-between",children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Comment"}),e.jsxs("label",{className:" text-gray-600 text-sm",children:["Word Count: ",e.jsx("strong",{children:B(m)})]})]}),e.jsx("textarea",{...h("comment",{onChange:N=>{B(m)<=z?(j(N.target.value),fe(N),x(N)):N.preventDefault()}}),onKeyDown:we,className:`w-full px-3 py-2 border rounded-md 
                                        text-sm`,placeholder:"Write your review...",rows:4}),E&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:"Maximum maximumWords words allowed."}),((K=M.comment)==null?void 0:K.message)&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:M.comment.message.toString()})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>t(!1),className:`w-full bg-red-200 rounded-md
                                        hover:bg-red-100 text-sm`,children:"Close"}),e.jsx("button",{type:"submit",disabled:a,className:`w-full bg-[#D71616] text-white py-2 outline-none
                                        rounded-md hover:bg-[#D71616]/80 text-sm`,children:a?"Submitting...":"Submit Rating"})]})]})]})})}),s]})}const Ns=({listing:s})=>e.jsxs("div",{children:[s!=null&&s.address_one?(s==null?void 0:s.address_one)+", ":"",s!=null&&s.state_code?(s==null?void 0:s.state_name)+", ":"",s!=null&&s.country_code?s==null?void 0:s.country_code:""]});function ys(s){return Ee({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 2C7.77614 2 8 2.22386 8 2.5L8 12.5C8 12.7761 7.77614 13 7.5 13C7.22386 13 7 12.7761 7 12.5L7 2.5C7 2.22386 7.22386 2 7.5 2Z",fill:"currentColor"},child:[]}]})(s)}const _s=({url:s,title:l})=>{const t=encodeURIComponent(s),a=encodeURIComponent(l),i=`https://twitter.com/intent/tweet?url=${t}&text=${a}`,d=`https://www.facebook.com/sharer/sharer.php?u=${t}&quote=${a}`;return e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"flex place-items-center place-content-center text-white  rounded-lg bg-gradient-to-b from-[#629deb] to-blue-600 transition-colors text-3xl border hover:text-white pl-2 pr-4 py-2 border-[#629deb]",children:[e.jsx(Ss,{}),e.jsx(ys,{}),e.jsx("span",{className:"text-lg",children:"Share"})]}),e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"flex place-items-center place-content-center text-[#166FE5] hover:bg-white rounded-lg bg-[#166FE5]/5 transition-colors text-3xl border border-blue-800 hover:text-[#166FE5] pl-2 pr-4",children:[e.jsx(Le,{}),e.jsx("span",{className:"text-lg",children:"Facebook"})]})]})};function Ss(){return e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}const gs=({listing:s,profileImageData:l,operatingHoursStatus:t,ratingsData:a})=>{const[i,d]=r.useState(""),[o,c]=r.useState("/images/bycetplaceholder.png");r.useEffect(()=>{l!=null&&l.image_url?d(T.IMG_BASE_URL+(l==null?void 0:l.image_url)):d(o)},[l]);const n=ye(),[m,j]=r.useState("");return r.useEffect(()=>{j(T.BASE_URL+n.pathname)},[]),e.jsxs("div",{className:" mt-4",children:[e.jsxs("div",{className:"flex gap-3  w-full   md:rounded-xl",children:[e.jsxs("div",{className:"bg-white w-[60px] min-w-[60px] md:w-[95px] md:min-w-[95px] h-[60px] md:h-[95px] relative rounded-lg overflow-hidden shadow-xl border",children:[((l==null?void 0:l.image_url)===void 0||(l==null?void 0:l.image_url)===null||(l==null?void 0:l.image_url)==="")&&e.jsxs("div",{className:"absolute top-0 h-full w-full flex place-content-center place-items-center font-bold text-white bg-black/20 text-[8px] tracking-[3px] flex-col",children:[e.jsx("div",{children:"AUTOMATIC"}),e.jsx("div",{children:"GENERATED"})]}),l!=null&&l.image_url?e.jsx("img",{src:T.IMG_BASE_URL+(l==null?void 0:l.image_url),alt:"85x90",className:" object-cover w-full h-full  shadow-gray-300 "}):e.jsx("img",{src:V.fallbackImg,alt:"",className:"object-cover w-full h-full shadow-lg shadow-gray-300"})]}),e.jsxs("div",{className:"w-full block",children:[e.jsx("div",{className:`text-[19px] md:text-[22px]
                font-semibold  leading-[1.1em] font-sans text-blue-800 `,children:s==null?void 0:s.title}),e.jsx("div",{className:" leading-[1.3em] space-x-1 mt-1",children:t!==void 0&&e.jsxs("div",{className:" leading-[1.2em]",children:[e.jsx("div",{className:" line-clamp-1",children:e.jsx(Ns,{listing:s})}),e.jsx("div",{className:" w-full mx-auto mt-1.5",children:t==null?void 0:t.localTimeText}),e.jsx("div",{className:"mt-1.5",children:t.openStatus==="selected_hours"?e.jsx("div",{children:t.todayHoursFormatted}):e.jsxs("div",{children:[t.openStatus==="always_open"&&e.jsx("div",{className:"bg-blue-700 px-2 rounded w-fit text-white pt-[2px] pb-[4px]",children:"Always Open"},"1"),t.openStatus==="permanently_closed"&&e.jsx("div",{className:"bg-red-700 px-2 rounded-lg w-fit text-white pt-[2px] pb-[4px]",children:"Permantently Closed"},"2"),t.openStatus==="temporarily_closed"&&e.jsx("div",{className:"bg-orange-400 px-2 rounded-lg w-fit text-white pt-[2px] pb-[4px]",children:"Temporarily Closed"},"3")]})})]})})]})]}),m!==""&&(s==null?void 0:s.title)!==null&&(s==null?void 0:s.title)!==void 0&&e.jsx("div",{className:"flex w-full gap-3 mt-4",children:e.jsx(_s,{url:m,title:s==null?void 0:s.title})})]})},A=({title:s})=>e.jsx("div",{className:`text-[19px] font-bold
                border-b mb-6`,children:s}),ks=({listing:s})=>{var d;const[l,t]=r.useState(""),[a,i]=r.useState(V.fallbackImg);return r.useEffect(()=>{s.gid&&Be(s.gid).then(c=>{(c==null?void 0:c.image_url)===""||(c==null?void 0:c.image_url)===void 0||(c==null?void 0:c.image_url)===null?t(a):t(T.IMG_BASE_URL+c.image_url)})},[s]),e.jsxs("div",{className:"mt-12",children:[e.jsx(A,{title:"About this business"}),e.jsxs("div",{className:`flex place-items-start place-content-start
                gap-2 mt-4 mb-3`,children:[e.jsx("div",{className:`rounded-full bg-white w-[45px] h-[45px]
                    overflow-hidden relative border`,children:e.jsx("img",{className:"object-cover w-full h-full",src:l,alt:""})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-md font-bold tracking-tight leading-[1.2em]",children:s.title}),e.jsx("div",{className:"text-[12px] capitalize",children:(d=Pe(s.category))==null?void 0:d.name})]})]}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:s==null?void 0:s.long_description})]})},Rs=({listing:s})=>{const[l,t]=r.useState(void 0);return r.useEffect(()=>{Te(s==null?void 0:s.gid).then(a=>{const i=a==null?void 0:a.map(d=>({...Ae.find(c=>c.feature_id===d.feature_id),user_description:d.user_description||null,business_guid:d.business_guid}));t(i)})},[s.business_guid]),e.jsxs("div",{className:" mt-12",children:[e.jsx(A,{title:"Facility Features"}),e.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-8 mt-3",children:l==null?void 0:l.map((a,i)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"font-bold flex place-items-center gap-2 ",children:[e.jsx("span",{className:"text-lg",children:a.icon}),e.jsx("span",{className:"text-lg leading-[1.2em]",children:a.name})]}),e.jsx("div",{className:" mt-[5px] text-black tracking-normal leading-snug",children:a.user_description||a.description})]},i))})]})},Es=({listing:s})=>e.jsxs("div",{className:"mt-4",children:[e.jsx(A,{title:"Intro"}),e.jsx("div",{className:" text-[14px] flex flex-col gap-y-4 whitespace-pre-wrap ",children:s.short_description})]}),Ls=({rating:s=3.5,maxStars:l=5})=>{const t=[];for(let a=1;a<=l;a++)a<=s?t.push(e.jsx("span",{className:"text-yellow-500 text-xl",children:e.jsx(Me,{})},a)):t.push(e.jsx("span",{className:"text-yellow-500 text-xl",children:e.jsx($e,{})},a));return e.jsxs("div",{className:" flex w-full place-items-center gap-2 mt-0",children:[e.jsx("div",{className:"flex  gap-x-[3px] -mt-[2px]",children:t}),e.jsx("div",{className:"text-gray-400",children:e.jsx(Ge,{className:"text-[15px] text-yellow-400"})}),e.jsxs("div",{className:" text-xl",children:["Rating: ",Number(s)]})]})},Bs=({listing:s})=>{const[l,t]=r.useState([]),[a,i]=r.useState({}),[d,o]=r.useState("");return r.useEffect(()=>{const c=async m=>{m&&await Fe(m).then(j=>{t(j)})},n=async m=>{m&&await ze(m).then(j=>{i(j)})};s.gid&&(c(s.gid),n(s.gid))},[s]),e.jsxs("div",{className:"mt-12",children:[e.jsx(A,{title:"Reviews"}),e.jsxs("div",{className:"-mt-1 text-[14px] flex flex-col -gap-y-1 font-light",children:[e.jsx("div",{className:"font-bold text-lg",children:"Overall Rating:"}),a&&e.jsx(Ls,{rating:a==null?void 0:a.rating_average})]}),e.jsx("hr",{className:"mt-3"}),e.jsx("div",{className:"flex flex-col gap-y-4 divide-y-[1px]",children:l!==null&&(l==null?void 0:l.map((c,n)=>e.jsxs("div",{className:"pt-7 pb-4",children:[e.jsxs("div",{className:"flex place-items-start gap-2",children:[e.jsx("div",{className:`w-[30px] h-[30px] rounded-full
                                        bg-black overflow-hidden`,children:e.jsx("img",{src:T.IMG_BASE_URL+(c==null?void 0:c.image_url),alt:""})}),e.jsxs("div",{className:"flex flex-col -space-y-1.5",children:[e.jsx("div",{className:"text-lg font-bold",children:c.fullname}),(c==null?void 0:c.city_name)!==null&&(c==null?void 0:c.state_name)&&e.jsx("div",{className:"text-[11px]",children:`${c==null?void 0:c.city_name}, ${c==null?void 0:c.state_name}`}),(c==null?void 0:c.country_name)!==null&&e.jsx("div",{className:"text-[11px]",children:`${c==null?void 0:c.country_name}`})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{children:e.jsx(X,{rating:c.rating})}),e.jsxs("div",{className:"text-[12px] mt-1",children:[e.jsx("b",{children:"Created at:"}),e.jsx("span",{className:"text-[12px]",children:H(c.created_at)})]}),e.jsxs("div",{className:"text-[12px]",children:[e.jsx("b",{children:"Last Edited:"}),e.jsx("span",{className:"text-[12px]",children:H(c.updated_at)})]}),e.jsx("div",{className:"text-[14px] mt-2",children:c.comment})]})]},n)))})]})},Ps=({images:s,listing:l})=>{const[t,a]=r.useState([]),i=I(),d=xe(),[o,c]=r.useState("images/abstract_placeholder.jpg"),[n,m]=r.useState([]);r.useEffect(()=>{let f=[...t];s&&(s==null||s.map((b,_)=>{_+1<12&&f.push(b)}),m(f))},[s]);const j=f=>{f<s.length&&(i.setDialog(!0),i.setSelectedSlide(f+1),i.setGallery(s),i.setListing(l))},v=f=>{d.setShow(!0),d.setGallery(s),d.setListing(l)};return e.jsx("div",{children:e.jsx("div",{className:"w-full h-auto mb-[32px] flex flex-col gap-2",children:e.jsx(Ts,{imgs:s,showCarousel:j,index:0,showGallery:v})})})};function L({index:s,imgs:l,showCarousel:t}){var o,c,n,m,j;const[a,i]=r.useState(!1),d=async()=>{await new Promise(v=>setTimeout(v,1e3)),i(!0)};return r.useEffect(()=>{d()},[]),e.jsxs("div",{className:` overflow-hidden bg-gray-200 
                    relative cursor-pointer w-full h-full`,children:[a&&((o=l[s])==null?void 0:o.image_url)!==void 0&&((c=l[s])==null?void 0:c.image_url)!==null&&e.jsx("div",{className:"w-full h-[30%] absolute bottom-0 left-0 right-0 bg-gradient-to-b from-transparent to-gray-800"}),((n=l[s])==null?void 0:n.image_url)!==void 0&&((m=l[s])==null?void 0:m.image_url)!==null?e.jsx("img",{src:T.IMG_BASE_URL+((j=l[s])==null?void 0:j.image_url),alt:"",className:"object-cover h-full w-full"}):e.jsx("div",{className:"w-full h-full px-3 py-3 flex place-content-center place-items-center",children:e.jsx("div",{className:" w-full h-full border border-dashed border-white text-[20px] rounded-lg flex place-content-center place-items-center text-white",children:e.jsx(re,{})})})]})}function Ts({imgs:s,index:l,showCarousel:t,showGallery:a}){const[i,d]=r.useState(0),[o,c]=r.useState([]);return r.useEffect(()=>{(s==null?void 0:s.length)>0&&(console.log(s),d(s.length),c(s))},s),e.jsxs(e.Fragment,{children:[i===1&&e.jsx("div",{className:`h-[400px] rounded-xl overflow-hidden
                grid grid-cols-12`,children:e.jsx("div",{className:`col-span-12 
                    row-span-2 overflow-hidden shadow-gray-500`,onMouseDown:n=>t&&t(l),children:e.jsx(L,{imgs:o,index:0})})}),i===2&&e.jsxs("div",{className:`h-[400px] rounded-xl overflow-hidden
                grid grid-cols-12 gap-[5px]`,children:[e.jsx("div",{className:`col-span-7 bg-black
                    row-span-2 overflow-hidden
                    relative cursor-pointer`,onMouseDown:n=>t&&t(0),children:e.jsx(L,{imgs:o,index:0})}),e.jsx("div",{className:`col-span-5 bg-black
                    row-span-2 overflow-hidden
                    relative cursor-pointer`,onMouseDown:n=>t&&t(1),children:e.jsx(L,{imgs:o,index:1})})]}),i===3&&e.jsxs("div",{className:`h-[400px] rounded-xl overflow-hidden
                grid grid-cols-12 gap-[5px]`,children:[e.jsx("div",{className:"col-span-7 row-span-2 overflow-hidden",onMouseDown:n=>t&&t(0),children:e.jsx(L,{imgs:o,index:0})}),e.jsx("div",{className:"col-span-5 overflow-hidden",onMouseDown:n=>t&&t(1),children:e.jsx(L,{imgs:o,index:1})}),e.jsx("div",{className:`col-span-5 overflow-hidden
                    `,onMouseDown:n=>t&&t(2),children:e.jsx(L,{imgs:o,index:2})})]}),i>=4&&e.jsxs("div",{className:"space-y-[5px]",children:[e.jsxs("div",{className:`h-[300px]
                grid grid-cols-12 gap-[5px] rounded-t-xl overflow-hidden`,children:[e.jsx("div",{className:"col-span-7 row-span-2 overflow-hidden ",onMouseDown:n=>t&&t(0),children:e.jsx(L,{imgs:o,index:0})}),e.jsx("div",{className:"col-span-5 overflow-hidden",onMouseDown:n=>t&&t(1),children:e.jsx(L,{imgs:o,index:1})}),e.jsx("div",{className:`col-span-5 overflow-hidden
                    `,onMouseDown:n=>t&&t(2),children:e.jsx(L,{imgs:o,index:2})})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-[5px] h-[100px] rounded-bl-xl overflow-hidden",children:[e.jsx("div",{className:"overflow-hidden",onMouseDown:n=>t&&t(3),children:e.jsx(L,{imgs:o,index:3})}),e.jsx("div",{className:"overflow-hidden",onMouseDown:n=>t&&t(4),children:e.jsx(L,{imgs:o,index:4})}),e.jsx("div",{className:"overflow-hidden",onMouseDown:n=>t&&t(5),children:e.jsx(L,{imgs:o,index:5})}),e.jsx("div",{className:"overflow-hidden",onMouseDown:n=>t&&t(6),children:e.jsx(L,{imgs:o,index:6})}),e.jsxs("div",{className:`rounded-br-xl overflow-hidden
                    relative bg-gray-200 text-white cursor-pointer
                    flex place-content-center place-items-center h-[100px]
                    bg-cover`,onMouseDown:n=>a&&a(0),style:{backgroundImage:'url("/images/abstract_placeholder.jpg")'},children:[e.jsx("div",{className:" absolute top-0 left-0 right-0 bottom-0 bg-black/20"}),(o==null?void 0:o.length)>7?`+${o.length-7}`:"View all"]})]})]})]})}const As=({images:s,listing:l})=>{const[t,a]=r.useState(0),i=r.useRef(0);r.useRef(0);const d=y=>{i.current=y.touches[0].clientX},o=y=>{const E=y.changedTouches[0].clientX,S=i.current-E;S>50?a(B=>(B+1)%s.length):S<-50&&a(B=>(B-1+s.length)%s.length)},[c,n]=r.useState(null);let m=r.useRef(null);const[j,v]=r.useState([]),f=I();xe();const[b,_]=r.useState([]);r.useEffect(()=>{let y=[...j];s&&(s.map((E,S)=>{S+1<12&&y.push(E)}),_(y))},[s]);const g=y=>{y<(s==null?void 0:s.length)&&(f.setDialog(!0),f.setSelectedSlide(y+1),f.setGallery(s),f.setListing(l))};r.useEffect(()=>{s&&n(s)},[s]);const p=()=>{a(y=>y===0?c.length-1:y-1)},u=()=>{a(y=>y===c.length-1?0:y+1)},w=async()=>{m.current&&clearTimeout(m.current),u(),m.current=setTimeout(()=>{},15e3)},k=async()=>{m.current&&clearTimeout(m.current),p(),m.current=setTimeout(()=>{},15e3)};return r.useEffect(()=>{},[c]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:" w-full h-[400px] md:h-[500px] flex overflow-hidden z-20 ",children:c==null?void 0:c.map((y,E)=>{var S;return e.jsxs("div",{className:`h-full w-full relative block flex-shrink-0 flex-grow-0 transition-transform
                      ease-in-out duration-1000 cursor-pointer`,style:{transform:`translateX(-${t*100}%)`},children:[e.jsx("div",{className:"absolute  left-0 right-0 bottom-0 h-[30%]  w-full bg-gradient-to-b from-transparent to-gray-800"}),e.jsx("img",{onTouchStart:d,onTouchEnd:o,onMouseDown:B=>g(E),src:((S=T)==null?void 0:S.IMG_BASE_URL)+(y==null?void 0:y.image_url),alt:"",className:"object-cover w-full h-full "},E)]})})}),e.jsxs("div",{className:"z-[50]",children:[e.jsx("button",{onMouseDown:k,className:"block absolute top-0 bottom-0 z-[5] p-[1rem] cursor-pointer left-0 group h-full transition duration-1000 ease-in-out",children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
           flex place-content-center place-items-center group-hover:bg-white/30
            z-[300] transition duration-500 ease-in-out`,children:e.jsx(Ce,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("button",{onMouseDown:w,className:`block absolute top-0 bottom-0 
                                                        z-[5]    p-[1rem] cursor-pointer right-0 group 
                                                             transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            flex place-content-center place-items-center group-hover:bg-white/30
            z-[300]   transition duration-500 ease-in-out
            `,children:e.jsx(Ue,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})})]})]})})},he=({phrasesString:s,useGrid:l})=>{const[t,a]=r.useState([]);return r.useEffect(()=>{s!==null&&s!==""&&(d=>{const o=d==null?void 0:d.split(",").map(c=>c.trim());a(o)})(s)},[s]),e.jsx(e.Fragment,{children:l===!0?e.jsx("div",{className:"grid grid-cols-2 gap-y-5 w-full",children:t==null?void 0:t.map((i,d)=>e.jsxs("div",{className:"flex place-items-center gap-3",children:[e.jsx("span",{children:e.jsx(Oe,{})}),e.jsx("span",{children:i})]},d))}):e.jsx("div",{className:"flex gap-3 flex-wrap",children:t==null?void 0:t.map((i,d)=>e.jsx("span",{className:`bg-blue-50 px-2 border py-1 border-gray-300 hover:shadow-lg cursor-move
                        rounded-md shadow-none shadow-gray-500`,children:i},d))})})},Gs=({listing:s})=>e.jsxs("div",{className:"mt-12",children:[e.jsx(A,{title:"Business Offerings"}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:(s==null?void 0:s.business_phrases)&&e.jsx(he,{useGrid:!0,phrasesString:s==null?void 0:s.business_phrases})})]}),Ms=({listing:s})=>{const[l,t]=r.useState([]);return r.useEffect(()=>{s!==null&&(i=>{if(i!==null&&i!==""){const d=i==null?void 0:i.split(",").map(o=>o.trim());t(d)}})(s==null?void 0:s.services)},[s]),e.jsxs("div",{className:"mt-12",children:[e.jsx(A,{title:"Services"}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:(s==null?void 0:s.services)&&e.jsx(he,{useGrid:!0,phrasesString:s==null?void 0:s.services})})]})},$s=({listing:s})=>{const[l,t]=r.useState(""),[a,i]=r.useState(null);function d(c){let n=null;switch(c==null?void 0:c.media_id){case"facebook":n=e.jsx(Ze,{});break;case"twitterx":n=e.jsx(Ye,{});break;case"linkedin":n=e.jsx(Ke,{});break;case"instagram":n=e.jsx(Je,{});break;case"pinterest":n=e.jsx(qe,{});break;case"youtube":n=e.jsx(Xe,{});break;case"vimeo":n=e.jsx(Ve,{});break;case"tiktok":n=e.jsx(Ie,{});break}return n}function o(c){try{return new URL(c),!0}catch{return!1}}return r.useEffect(()=>{s!==null&&(async n=>{const m=[],j=await De(n==null?void 0:n.gid);j==null||j.map((v,f)=>{const b=v==null?void 0:v.user_description,_=o(b);let g="";_?g=b:g=`${v==null?void 0:v.base_url}${v==null?void 0:v.user_description}`,m.push({media:v==null?void 0:v.name,icon:d(v),name:v==null?void 0:v.name,link:g})}),n!=null&&n.website&&m.push({media:n==null?void 0:n.website,icon:e.jsx(ae,{}),name:"Website",link:`${n==null?void 0:n.website}`}),n!=null&&n.email_address&&m.push({media:n==null?void 0:n.email_address,icon:e.jsx(ne,{}),name:"Email Address",link:`mailto:${n==null?void 0:n.email_address}`}),n!=null&&n.phone&&m.push({media:n==null?void 0:n.phone,icon:e.jsx(We,{}),name:"Phone",link:`tel:${n==null?void 0:n.phone}`}),i(m)})(s)},[s]),e.jsxs("div",{className:"mt-12",children:[e.jsx(A,{title:"Social Media"}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:e.jsx("div",{className:"flex gap-3 flex-wrap",children:a!==null&&(a==null?void 0:a.map((c,n)=>e.jsx(te,{to:c==null?void 0:c.link,children:e.jsxs("div",{className:`border px-[8px] py-[2px] 
                                    cursor-pointer flex place-items-center rounded-md
                                    gap-1 border-gray-400 bg-blue-50 hover:bg-blue-50
                                    text-black hover:text-black
                                    hover:shadow-md`,children:[e.jsx("span",{className:"text-[12px]",children:c==null?void 0:c.icon}),c==null?void 0:c.name]},n)},n)))})})]})},ee=({listing:s})=>{const[l,t]=r.useState("user");return r.useEffect(()=>{const a=async i=>{await Qe(i).then(d=>{let o=d;t(o==null?void 0:o.role)})};(s==null?void 0:s.owner)!==""&&a(s==null?void 0:s.owner)},[s]),e.jsx(e.Fragment,{children:l==="admin"&&e.jsx("div",{className:" md:mt-0 ",children:e.jsxs("div",{className:"px-3  border  md:rounded-xl  underline-offset-2  bg-gray-100 mx-[0px] md:mx-[0px] mb-[40px] md:mb-[40px] divide-y-1 divide-gray-600",children:[e.jsx("a",{href:"/web/contact",children:e.jsx("div",{className:"text-[15px] text-center  py-[10px] ",children:"Is this your business? Claim it for free!"})}),e.jsx("div",{className:"border-b-[1px] border-gray-50/20"}),e.jsx("a",{href:"/web/contact",children:e.jsx("div",{className:"text-[12px] text-center underline py-[10px]",children:"Request removal."})})]})})})},Fs=({listing:s,operatingHoursStatus:l})=>{const[t,a]=Q.useState(!0),[i,d]=Q.useState(!1),[o,c]=r.useState(""),[n,m]=r.useState(""),[j,v]=r.useState(void 0),[f,b]=r.useState(null),[_,g]=r.useState(""),[p,u]=r.useState(""),[w,k]=r.useState(""),[y,E]=r.useState(void 0);r.useEffect(()=>{s&&(c(s==null?void 0:s.gid),m(s==null?void 0:s.owner))},[s]);const S=(x,h)=>x==="Closed"||h=="Closed"?"Closed":`${x} - ${h}`,B=x=>{const h=[];g(x==null?void 0:x.open_status),h.push({day:"Mon",hours:S(x==null?void 0:x.monday_from,x==null?void 0:x.monday_to)}),h.push({day:"Tue",hours:S(x==null?void 0:x.tuesday_from,x==null?void 0:x.tuesday_to)}),h.push({day:"Wed",hours:S(x==null?void 0:x.wednesday_from,x==null?void 0:x.wednesday_to)}),h.push({day:"Thu",hours:S(x==null?void 0:x.thursday_from,x==null?void 0:x.thursday_to)}),h.push({day:"Fri",hours:S(x==null?void 0:x.friday_from,x==null?void 0:x.friday_to)}),h.push({day:"Sat",hours:S(x==null?void 0:x.saturday_from,x==null?void 0:x.saturday_to)}),h.push({day:"Sun",hours:S(x==null?void 0:x.sunday_from,x==null?void 0:x.sunday_to)}),b(h)};return r.useEffect(()=>{o!==""&&n!==""&&(async(h,P)=>await He(h,P))(o,n).then(h=>{h&&B(h)})},[o,n]),r.useEffect(()=>{s!==null&&(async h=>{let P=h==null?void 0:h.title;P+=h!=null&&h.address_one?", "+(h==null?void 0:h.address_one):"",P+=h!=null&&h.address_two?", "+(h==null?void 0:h.address_two):"",P+=h!=null&&h.city_name?", "+(h==null?void 0:h.city_name):"",P+=h!=null&&h.state_name?", "+(h==null?void 0:h.state_name):"",P+=h!=null&&h.zipcode?", "+(h==null?void 0:h.zipcode):"",P+=h!=null&&h.country_code?", "+(h==null?void 0:h.country_code):"";let U=`https://www.google.com/maps?q=${P}&t=&z=15&ie=UTF8&iwloc=B&output=`;u(P),k(U)})(s)},[s]),r.useEffect(()=>{l!==void 0&&E(l)},[l]),e.jsxs("div",{className:"mt-12",children:[e.jsx(A,{title:"Location and Hours"}),e.jsx("div",{className:" ",children:e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-12 gap-5
                    `,children:[e.jsxs("div",{className:"col-span-6",children:[e.jsx("div",{className:" relative w-full h-[150px] overflow-hidden rounded-lg",children:e.jsx("img",{className:" object-cover w-full h-full",src:"/images/mapicon.jpeg",alt:""})}),e.jsxs("div",{className:" grid grid-cols-2 gap-6 mt-3",children:[e.jsx("div",{children:p}),e.jsx("div",{children:e.jsx("a",{href:`${w}`,target:"_blank",children:e.jsx("button",{className:"w-[100%] border-[1px] border-blue-300 rounded-md",children:e.jsx("div",{className:"text-[14px]  font-sans font-bold text-bold  py-2 tracking-tight ",children:"View in Map"})})})})]})]}),e.jsx("div",{className:"col-span-6",children:e.jsxs("div",{className:"",children:[_==="no_hours"||_===null&&e.jsx("div",{children:"No hours selected."}),_==="always_open"&&e.jsx("div",{children:"Business is always open"}),_==="permanently_closed"&&e.jsx("div",{children:"Permanently Closed"}),_==="temporarily_closed"&&e.jsx("div",{children:"Temporarily Closed"}),f!==null&&_==="selected_hours"&&e.jsx("ul",{className:"w-full divide-y-[1px] md:divide-none",children:f==null?void 0:f.map((x,h)=>e.jsx("li",{className:`w-full ${(x==null?void 0:x.hours.includes(null))&&"hidden"} `,children:e.jsxs("div",{className:`grid grid-cols-12 py-1.5 
                                                        `,children:[e.jsx("div",{className:` col-span-2 flex flex-col
                                                        place-items-start`,children:x==null?void 0:x.day}),e.jsxs("div",{className:`flex flex-row col-span-10
                                                    place-items-end place-content-end md:place-content-start gap-3 `,children:[e.jsx("span",{className:`${(x==null?void 0:x.hours.includes("Closed"))&&"hidden"}`,children:x==null?void 0:x.hours}),e.jsx("span",{className:`${y.today===(x==null?void 0:x.day)?"mr-[10px]":""}`,children:x!=null&&x.hours.includes("Closed")?"Closed":y.today===(x==null?void 0:x.day)&&(y.isOpen?"Open Now":"Closed Now")})]})]})},h))})]})})]})})]})},zs=[{url:"https://youtu.be/fxbCHn6gE3U?si=GneGFZachbQdDEIO",title:"The surprising habits of original thinkers"},{url:"https://youtu.be/eHJnEHyyN1Y?si=aHRmeH67S227uGtr",title:"6 Tips on Being a Successful Entrepreneur"},{url:"https://youtu.be/1tRTWwZ5DIc?si=j6fNumMdLx5M16_H",title:"The INSANE Rise of NVIDIA: From Bankruptcy to $4 Trillion?"},{url:"https://www.youtube.com/watch?v=P6FORpg0KVo",title:"How to Make Learning as Addictive as Social Media"},{url:"https://www.youtube.com/watch?v=JpYA7WXkHyI",title:"How to be a creative thinker"},{url:"https://www.youtube.com/watch?v=JpYA7WXkHyI",title:"How to be a creative thinker"},{url:"https://www.youtube.com/watch?v=JpYA7WXkHyI",title:"How to be a creative thinker"},{url:"https://www.youtube.com/watch?v=JpYA7WXkHyI",title:"How to be a creative thinker"}],Cs=({videoGallery:s,listing:l})=>{const[t,a]=r.useState(null),[i,d]=r.useState(zs),[o,c]=r.useState(!1),[n,m]=r.useState(null),j=oe();r.useEffect(()=>{(async _=>{let g=[];_==null||_.map((p,u)=>{const w=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,k=p.video_url.match(w);let y=k?k[1]:null,E=`https://img.youtube.com/vi/${y}/0.jpg`,S={videoId:y,videoUrl:p.video_url,videoTitle:p.video_title,videoThumbnail:E,videoGuid:p.video_guid};g.push(S)}),a(g)})(s)},[s]);const v=b=>{m(b),c(!0)},f=b=>{j.setDialog(!0),j.setSelectedSlide(b+1),j.setGallery(s),j.setListing(l)};return e.jsxs("div",{className:" ",id:"video",children:[e.jsx(Us,{setOpen:c,open:o,currentVideo:n}),e.jsx(Os,{outVideo:t,handleOpen:v,showCarousel:f,listing:l})]})},Us=({currentVideo:s,setOpen:l,open:t})=>{const a=()=>{const i=document.getElementById("yt-iframe");i.src=i.src,l(!1)};return e.jsxs("div",{className:` ${t?"fixed":"hidden"} z-[20010] top-[0px] left-[0px] w-full h-full bg-black/90`,children:[e.jsx("div",{className:"absolute bg-black w-[40px] h-[40px] z-20 rounded-full text-white flex place-items-center place-content-center mt-20 ml-5 hover:cursor-pointer",onClick:()=>{a()},children:e.jsx(es,{})}),e.jsx("div",{className:" relative w-full h-full",children:e.jsx("iframe",{id:"yt-iframe",src:`${t?`https://www.youtube.com/embed/${s==null?void 0:s.videoId}`:""}`,className:"absolute top-0 left-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})})]})},Os=({outVideo:s,handleOpen:l,showCarousel:t,listing:a})=>{const[i,d]=r.useState(!1),[o,c]=r.useState(150),[n,m]=r.useState(90),j=r.useRef(null),[v,f]=r.useState(null);oe();const[b,_]=r.useState([]),g=6;r.useEffect(()=>{if(s){const w=s.length>g?s.slice(0,g):s;_(w)}},[s]);const p=()=>{j.current&&j.current.scrollBy({left:-300,behavior:"smooth"})},u=()=>{j.current&&j.current.scrollBy({left:300,behavior:"smooth"})};return e.jsxs("div",{className:" mt-6 mb-5",children:[e.jsx("div",{className:"px-[12px] md:px-0",children:e.jsx(A,{title:"Videos"})}),e.jsxs("div",{className:"relative w-full max-w-[1100px] mx-auto",children:[e.jsx(Ds,{outVideo:s,openGallery:i,setOpenGallery:d,handleOpen:l,showCarousel:t,listing:a}),e.jsx("div",{ref:j,className:"w-full px-0 py-0 mt-3 relative flex flex-1 overflow-x-auto bottom-scrollbar-hidden rounded-xl overflow-hidden",children:e.jsxs("div",{className:"flex gap-x-3",id:"videobar",children:[Array.isArray(b)&&Array.from({length:g},(w,k)=>{var y,E,S,B;return e.jsx("div",{children:k<g&&k<(b==null?void 0:b.length)?e.jsx("div",{className:` w-[${o}px] min-w-[${o}px] relative z-[3] hover:cursor-pointer border  rounded-xl overflow-hidden hover:bg-white/50`,onClick:()=>t(k),children:e.jsxs("div",{className:`relative w-full h-[${n}px]   z-[2]`,children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-transparent  z-[3] hover:bg-white/40",children:e.jsx(ss,{size:20,className:"text-white absolute top-0.5 right-1 "})}),e.jsx("img",{src:(y=b[k])==null?void 0:y.videoThumbnail,alt:(E=b[k])==null?void 0:E.videoTitle,className:"object-cover w-full h-full"}),e.jsx("div",{className:" block w-full absolute z-[3] text-white bottom-0 px-2 py-[5px] bg-black/80 ",children:e.jsx("div",{className:"w-full text-white bottom-0  ",children:e.jsx("div",{className:" text-[12px] leading-[1.2em] line-clamp-1",children:(S=b[k])==null?void 0:S.videoTitle})})})]})},(B=b[k])==null?void 0:B.videoGuid):e.jsx("div",{className:`w-[${o}px] h-full border flex place-items-center place-content-center hover:cursor-pointer hover:bg-gray-300 bg-gray-200 rounded-xl `,onClick:()=>{d(!0)},children:e.jsx("div",{className:"text-white/60 w-[85%] text-center rounded-xl h-[75%] border border-dashed border-black/30 flex place-items-center place-content-center text-[23px]",children:e.jsx(re,{})})})},k)}),e.jsx("div",{className:`w-[${o}px] h-full border border-gray-200 rounded-xl flex place-items-center place-content-center hover:cursor-pointer hover:bg-gray-300 bg-gray-200`,onClick:()=>{d(!0)},children:e.jsx("div",{className:"text-white/60 w-[85%] text-center rounded-none h-[75%] border border-dashed border-black/30 flex place-items-center place-content-center ",children:e.jsx("div",{className:"text-white w-1/2 text-center rounded",children:"All Videos"})})})]})}),e.jsx("div",{className:"absolute text-white top-1/2 -translate-y-1/2 left-2 w-[40px] min-w-[40px] h-[40px] bg-black/50 hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded z-[5]",onClick:()=>{p()},children:e.jsx(ts,{})}),e.jsx("div",{className:"absolute text-white top-1/2 -translate-y-1/2 right-2 w-[40px] min-w-[40px] h-[40px] bg-black/50 hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded z-[5]",onClick:()=>{u()},children:e.jsx(ls,{})})]})]})},Ds=({outVideo:s,openGallery:l,setOpenGallery:t,handleOpen:a,showCarousel:i,listing:d})=>e.jsx(e.Fragment,{children:l&&e.jsxs("div",{onMouseDown:o=>t(!1),className:`flex w-screen h-screen bg-black/40 
                        z-[20000] fixed top-0 left-0 right-0 bottom-0
                        place-items-center place-content-center px-[15px]`,children:[e.jsx("div",{onMouseDown:o=>o.stopPropagation(),className:`min-w-[95%] w-[95%] sm:w-[95%] md:w-[80%] h-[80%] max-h-[80%] 
                            mx-auto bg-white rounded-lg shadow-lg shadow-black/50 
                            space-y-6 z-[3100] overflow-hidden`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"border-b py-3 px-3",children:e.jsxs("div",{className:`font-bold text-gray-700
                                    text-xl w-[80%]  truncate`,children:["Gallery for ",d==null?void 0:d.title]})}),e.jsx("div",{className:` 
                                h-full overflow-y-auto pt-2 px-2 pb-2
                                bg-white `,children:e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:Array.isArray(s)&&(s==null?void 0:s.map((o,c)=>e.jsxs("div",{className:"mb-2",onClick:()=>{i(c)},children:[e.jsx("div",{className:`relative hover:cursor-pointer
                                                  h-[80px] md:h-[100px] lg:h-[120px] rounded-md bg-black
                                                 overflow-hidden border-[5px] border-gray-200`,children:e.jsx("img",{className:"object-cover w-full h-full",src:o==null?void 0:o.videoThumbnail,alt:""})}),e.jsx("div",{className:"mx-[2px] text-[13px] leading-[1.2em] line-clamp-2 mt-[3px]",children:o==null?void 0:o.videoTitle})]},c)))})})]})}),e.jsx("div",{onMouseDown:()=>t(!1),className:`w-[50px] h-[50px] z-[300] bg-white
                                flex place-content-center place-items-center
                                rounded-full absolute left-2 top-2 cursor-pointer
                                hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(W,{className:"text-[30px]"})})]})}),Ws=s=>{const[l,t]=r.useState(!1),[a,i]=r.useState(0),d=is(),o=c=>{d.setDialog(!0),d.setSelectedSlide(c+1),d.setGallery(s.products),d.setListing(s.listing)};return e.jsx("div",{children:e.jsx("div",{className:"fixed bg-black/20 w-screen h-screen top-0 left-0 z-[3000]",children:e.jsx("div",{className:" w-full h-full flex place-content-center place-items-center",onMouseDown:c=>s.setGalleryDialog(!1),children:e.jsxs("div",{className:"max-w-[90%] w-full mx-auto bg-white h-[80%] rounded-lg",onMouseDown:c=>c.stopPropagation(),children:[e.jsx("div",{className:" border-b px-5 py-2",children:e.jsxs("div",{className:"flex place-content-between place-items-center",children:[e.jsxs("div",{className:"text-[17px] font-semibold",children:["Products for ",s.listing.title]}),e.jsx("div",{className:"text-[25px] rounded-full border flex place-content-center place-items-center w-[35px] h-[35px] hover:bg-gray-100 hover:cursor-pointer",onMouseDown:()=>s.setGalleryDialog(!1),children:e.jsx(W,{})})]})}),e.jsx("div",{className:" w-full h-[85%] overflow-auto",children:e.jsx("div",{className:"w-full h-auto grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-5 px-5 py-5",children:s.products.map((c,n)=>e.jsxs("div",{className:"border rounded-md p-3 block hover:shadow-md hover:cursor-pointer",onClick:()=>{o(n)},children:[e.jsx("div",{className:" w-full h-[150px] relative ",children:e.jsx("img",{src:T.IMG_BASE_URL+c.product_image_url,alt:"",className:" object-cover w-full h-full"})}),e.jsx("div",{className:"mt-3 text-center line-clamp-2 border-t pt-2 h-[50px] leading-[1.4em]",children:c==null?void 0:c.product_title})]},n))})})]})})})})},Is=s=>{var i;const[l,t]=r.useState(!1),a=()=>{t(!0)};return e.jsx(hs,{children:e.jsxs("div",{className:"mt-12",children:[e.jsx(A,{title:"Products"}),l&&e.jsx(Ws,{products:s.products,setGalleryDialog:t,listing:s.listing}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5",children:[(i=s.products)==null?void 0:i.map((d,o)=>e.jsx("div",{children:e.jsx("a",{href:d==null?void 0:d.product_link,target:"product",children:e.jsxs("div",{className:"border rounded-md p-3 h-[230px] block hover:shadow-md",children:[e.jsx("div",{className:" w-full h-[150px] relative ",children:e.jsx("img",{src:T.IMG_BASE_URL+d.product_image_url,alt:"",className:" object-cover w-full h-full"})}),e.jsx("div",{className:"mt-3 text-center line-clamp-2 border-t pt-2 leading-[1.4em]",children:d==null?void 0:d.product_title})]})})},o)),e.jsx("div",{onClick:()=>a(),children:e.jsxs("div",{className:"border rounded-md p-3 hover:bg-gray-50 h-[230px] flex place-items-center place-content-center flex-col bg-gray-200 cursor-pointer min-w-full",children:[e.jsx(cs,{size:22}),e.jsx("div",{children:"Product Gallery"})]})},s.products.length+1)]})]})})},Vs=({listing:s})=>{const l=bs(),{user:t}=le(),a=ce();r.useEffect(()=>{s!=null&&s.gid&&(t!=null&&t.guid)&&(l.setListing(s),rs(t.guid,s.gid).then(o=>{(o==null?void 0:o.length)!==0?(l.reset(o),l.setRatingData(o)):l.validateData(o,t)}))},[s,t]);const i=o=>{o?(a.cancel(),window.location.href="/web/signin"):a.cancel()},d=()=>{(t==null?void 0:t.guid)===null||(t==null?void 0:t.guid)===void 0?a.confirm("Login to continue",i):l.setShow(!0)};return e.jsx("div",{className:"w-full mt-0 ",children:e.jsx("div",{className:"",children:e.jsx("button",{onClick:()=>d(),className:`bg-[#D71616] text-white flex flex-col
                items-center pt-[2px] pb-[3px] w-full outline-none `,children:"Write Review"})})})},ue=r.createContext(null),Xs=()=>{const s=r.useContext(ue);return s||null},qs=({children:s,ratingsData:l,businessProfile:t})=>{const a={ratingsData:l,businessProfile:t};return e.jsx(ue.Provider,{value:a,children:s})},se=({ratingsData:s,businessProfile:l})=>e.jsx(qs,{ratingsData:s,businessProfile:l,children:e.jsx(Js,{})}),Js=()=>{var d,o,c,n,m,j,v,f,b,_,g,p;const s=Xs(),[l,t]=r.useState(""),[a,i]=r.useState("");return r.useEffect(()=>{const u=w=>{w>4.5?t("Excellent"):w>=4&&w<=4.5?t("Superb"):w>=3.5&&w<4?t("Very Good"):w>=2&&w<3.5?t("Good"):w>=1&&w<2?t("Not Good"):t(w===0?"No reviews":"Poor")};if(s.ratingsData){const w=s==null?void 0:s.ratingsData;w.rating!==null?u(Number(w.rating)):u(0)}},[s==null?void 0:s.ratingsData]),r.useEffect(()=>{if(s!=null&&s.businessProfile){let u=s==null?void 0:s.businessProfile,w=u!=null&&u.address_one?u==null?void 0:u.address_one:"";w+=u!=null&&u.address_two?", "+(u==null?void 0:u.address_two):"",w+=u!=null&&u.city_name?", "+(u==null?void 0:u.city_name):"",w+=u!=null&&u.state_name?", "+(u==null?void 0:u.state_name):"",w+=u!=null&&u.zipcode?", "+(u==null?void 0:u.zipcode):"",w+=u!=null&&u.country_name?", "+(u==null?void 0:u.country_name):"",i(w)}},[s==null?void 0:s.businessProfile]),e.jsx("div",{children:e.jsxs("div",{className:"w-full rounded-none md:rounded-lg  border-[1px] h-auto overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-100/20 px-2 py-3 border-b flex place-items-center place-content-between",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col -space-y-1",children:[e.jsx("div",{className:"text-[14px] h-fit capitalize font-semibold tracking-tight font-['arial']",children:(d=s==null?void 0:s.businessProfile)==null?void 0:d.category}),e.jsxs("div",{className:"text-[12px] h-fit flex place-items-center gap-1 tracking-tighter font-sans",children:[e.jsx("span",{children:l}),e.jsx("span",{className:"font-bold",children:":"}),e.jsxs("span",{children:[C(Number((o=s==null?void 0:s.ratingsData)==null?void 0:o.ratingCount)),"Â  Review",Number((c=s==null?void 0:s.ratingsData)==null?void 0:c.ratingCount)>0&&"s"]})]})]})}),e.jsx("div",{children:e.jsx("div",{className:"flex place-items-center place-content-center w-[40px] h-[40px] border shadow bg-[#D71616]  rounded-xl text-white text-[22px] font-bold ",children:((n=s.ratingsData)==null?void 0:n.rating)>=0?C(Number((m=s.ratingsData)==null?void 0:m.rating)):0})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"py-4",children:e.jsx("div",{className:"px-4 py-5 bg-gray-200/80 rounded-r-lg text-xl w-fit",children:"Contact"})}),e.jsxs("div",{className:"px-2.5 divide-y",children:[e.jsxs("div",{className:"flex w-full gap-3 py-3",children:[e.jsx("div",{className:"bg-gray-200/80 h-[30px] min-w-[30px] w-[30px] flex place-content-center place-items-center rounded-md border-[1px]",children:e.jsx(as,{className:"text-[20px]"})}),a&&e.jsx("div",{className:"text-[14px] md:text-[12px] leading-[1.3em]",children:a})]}),((j=s==null?void 0:s.businessProfile)==null?void 0:j.phone)&&e.jsxs("div",{className:"flex w-full gap-3 py-2.5",children:[e.jsx("div",{className:"bg-gray-200/100 h-[30px] min-w-[30px] w-[30px] flex place-content-center place-items-center rounded-md",children:e.jsx(ns,{className:"text-[20px] h-fit"})}),e.jsx("div",{className:` text-[15px] md:text-[13px] leading-[1.3em]
                                                    flex place-items-center font-semibold`,children:(v=s==null?void 0:s.businessProfile)==null?void 0:v.phone})]}),((f=s==null?void 0:s.businessProfile)==null?void 0:f.website)&&e.jsxs("div",{className:"flex w-full gap-3 py-2.5",children:[e.jsx("div",{className:"bg-gray-200/80 h-[30px] min-w-[30px] w-[30px] flex place-content-center place-items-center rounded-md",children:e.jsx(ae,{className:"text-[20px] h-fit"})}),e.jsx("div",{className:` text-[15px] md:text-[13px] leading-[1.3em]
                                                    flex place-items-center font-semibold
                                                    line-clamp-1`,children:e.jsx("a",{href:(b=s==null?void 0:s.businessProfile)==null?void 0:b.website,children:((_=s==null?void 0:s.businessProfile)==null?void 0:_.website)||"No website"})})]}),e.jsxs("div",{className:"flex w-full gap-3 py-2.5",children:[e.jsx("div",{className:"bg-gray-200/80 h-[30px] min-w-[30px] w-[30px] flex place-content-center place-items-center rounded-md",children:e.jsx(ne,{className:"text-[20px]"})}),e.jsx("div",{className:` text-[15px] md:text-[13px] leading-[1.3em]
                                                    flex place-items-center font-semibold
                                                    line-clamp-1`,children:e.jsx("a",{href:`mailto:${(g=s==null?void 0:s.businessProfile)==null?void 0:g.email_address}`,children:(p=s==null?void 0:s.businessProfile)==null?void 0:p.email_address})})]}),e.jsx("div",{className:"pb-6",children:e.jsx("div",{className:`bg-[#D71616] mt-[30px] 
                        text-white text-center py-2 rounded`,children:(s==null?void 0:s.businessProfile)&&e.jsx(Vs,{listing:s==null?void 0:s.businessProfile})})})]})]})]})})},Ks=({listing:s,images:l,ratingsData:t,videoGallery:a,products:i,profileImageData:d,businessProfileBgData:o,reportTime:c})=>{const[n,m]=r.useState(null),[j,v]=r.useState(void 0),[f,b]=r.useState(null);return r.useEffect(()=>{s&&b(s)},[s]),r.useEffect(()=>{s&&t&&m({totalReviews:0,category:s==null?void 0:s.category,rating:t.rating_average,ratingCount:t.rating_count})},[s,t]),r.useEffect(()=>{s&&c&&v(c)},[s,c]),r.useEffect(()=>{const _=document.createElement("script");_.id="facebook-jssdk",_.src="https://connect.facebook.net/en_US/sdk.js",_.async=!0,_.defer=!0,_.crossOrigin="anonymous",document.body.appendChild(_)},[]),e.jsxs("div",{className:"mt-0 ",children:[e.jsx("div",{className:"px-[12px] w-full",children:e.jsxs("div",{className:"max-w-[1200px] w-full mx-auto bg-white",children:[e.jsx("div",{className:"",children:t&&e.jsxs("div",{className:"mt-12 flex gap-2 place-items-center",children:[e.jsx(X,{rating:Number(t==null?void 0:t.rating_average)}),e.jsxs("div",{className:`flex place-items-center place-content-center
                                    gap-1 text-black/60 text-[14px]`,children:[e.jsx("div",{children:C(Number(t==null?void 0:t.rating_average))}),e.jsxs("div",{children:["(",e.jsxs("span",{className:"underline",children:[C(t==null?void 0:t.rating_count)," reviews"]}),")"]})]})]})}),e.jsx("div",{className:" ",children:s&&d&&e.jsx(gs,{listing:s,profileImageData:d,operatingHoursStatus:j,ratingsData:t})})]})}),(l==null?void 0:l.length)>0&&s&&e.jsx("div",{className:`bg-black h-fit md:hidden
                            mt-12 `,children:e.jsx(As,{images:l,listing:s})}),e.jsx("div",{className:" md:pt-12 md:px-[12px]",children:e.jsx("div",{className:"max-w-[1200px] w-full mx-auto bg-white",children:e.jsxs("div",{className:`grid grid-cols-12 gap-0 md:gap-6 relative
                    `,children:[e.jsxs("div",{className:" col-span-12 lg:col-span-8",children:[e.jsx("div",{className:"hidden md:block mt-0",children:Array.isArray(l)&&(l==null?void 0:l.length)>0&&s&&e.jsx(Ps,{images:l,listing:s})}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:`lg:hidden ${(l==null?void 0:l.length)<=0&&"mt-5"}  md:mt-0 mb-5`,children:[e.jsx(se,{ratingsData:n,businessProfile:f}),f!==null&&e.jsx(ee,{listing:f})]}),(a==null?void 0:a.length)>0&&e.jsx(Cs,{videoGallery:a,listing:s}),e.jsxs("div",{className:"px-[15px] md:px-[0px]",children:[e.jsx(Es,{listing:s}),s&&j&&e.jsx(Fs,{listing:s,operatingHoursStatus:j}),e.jsx(ks,{listing:s}),s&&e.jsx($s,{listing:s}),s&&e.jsx(Rs,{listing:s}),s&&e.jsx(Gs,{listing:s}),s&&e.jsx(Is,{products:i,listing:s}),s&&e.jsx(Ms,{listing:s}),s&&e.jsx(Bs,{listing:s})]})]})]}),e.jsx("div",{className:"col-span-12 lg:col-span-4 hidden lg:block",children:e.jsxs("div",{className:" sticky top-[100px]",children:[e.jsx(se,{ratingsData:n,businessProfile:f}),e.jsx("div",{className:"h-[40px]"}),s&&e.jsx(ee,{listing:s})]})})]})})})]})},Ys=()=>e.jsx("div",{className:"flex place-content-center place-items-center w-full min-h-[700px] text-[13px] flex-col space-y-4",children:e.jsxs("div",{className:`flex place-content-center place-items-center gap-3
                h-[40px]`,children:[e.jsx("div",{className:`text-2xl font-bold text-red-600 h-full
                    flex place-items-center`,children:"404"}),e.jsx("div",{className:"h-full w-[2px] border-r"}),e.jsxs("div",{className:`text-black text-[14px]
                    h-full flex place-items-center space-x-2`,children:[e.jsx("span",{children:"Resource not found."}),e.jsx("button",{onClick:()=>{window.history.back()},className:"underline",children:"Go back"})]})]})}),Zs=({category:s,limit:l,title:t,subtitle:a})=>{const[i,d]=r.useState(""),[o,c]=r.useState(""),[n,m]=r.useState([]),[j,v]=r.useState(""),f="https://pics.gasimg.com",[b,_]=r.useState("/images/placeholder22.png");r.useEffect(()=>{t&&a&&(d(t),c(a))},[t,a]);let g=async(p,u)=>{if(u&&p){let w=await ds(p,u);const k=JSON.stringify(w),y=JSON.parse(k);console.log(y),m(y)}};return r.useEffect(()=>{l&&s&&g(s,l)},[l,s]),e.jsx("div",{className:"w-full px-[12px] mt-12",children:e.jsxs("div",{className:" max-w-[1200px] mx-auto w-full",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"text-2xl font-semibold",children:["Related - ",e.jsx("span",{className:" italic capitalize",children:os(s)})]})}),e.jsx("div",{className:" grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((p,u)=>{let w="";p!=null&&p.username?w=p==null?void 0:p.username:w=p==null?void 0:p.gid;const k=p.title.substring(0,10);return e.jsx("div",{children:e.jsx(te,{to:`/${w}`,children:e.jsxs("div",{className:"flex gap-3 place-items-start  group hover:cursor-pointer h-full rounded-md",children:[e.jsxs("div",{className:"w-[70px] min-w-[70px] h-[70px] relative border rounded-lg overflow-hidden shadow-xl",children:[((p==null?void 0:p.image_url)===void 0||(p==null?void 0:p.image_url)===null||(p==null?void 0:p.image_url)==="")&&e.jsxs("div",{className:"absolute bottom-2 h-full w-full flex -gap-y-2 place-content-end place-items-center font-bold z-[10] text-white bg-black/10 text-[6px] tracking-[1px] flex-col",children:[e.jsx("div",{children:"AUTOMATIC"}),e.jsx("div",{children:"GENERATED"})]}),(p==null?void 0:p.image_url)!==null?e.jsx("img",{className:"object-cover  w-full h-full text-sm  ",src:f+(p==null?void 0:p.image_url),alt:k}):e.jsx("img",{src:V.fallbackImg,alt:k,className:"object-cover  w-full h-full text-sm  "})]}),e.jsxs("div",{className:"flex place-items-start h-full flex-col",children:[e.jsx("div",{className:"text-lg",children:e.jsx("div",{className:"group-hover:underline leading-[1.3em]",children:p.title})}),e.jsx("div",{className:"mt-1",children:e.jsx(X,{rating:p.avg_rating})}),e.jsx("div",{className:"text-sm mt-1 line-clamp-2",children:p.short_description}),e.jsx("div",{className:"text-sm mt-1 font-semibold",children:p.phone})]})]},u)})})})})]})})},Nt=({data:s})=>{try{let l=s==null?void 0:s.randomNumber;const t=s==null?void 0:s.listing,a=s==null?void 0:s.profileImageData;let i="";(a==null?void 0:a.image_url)===""||(a==null?void 0:a.image_url)===null||(a==null?void 0:a.image_url)===void 0?i=`${T.BASE_URL}/images/abstract_placeholder.jpg`:i=T.IMG_BASE_URL+(a==null?void 0:a.image_url);const d=a==null?void 0:a.mimetype,c=(n=>{var v,f;if(n==null||n==="")return null;const m=n.replace(/&/g,",");return(f=(v=m==null?void 0:m.split(","))==null?void 0:v.map(b=>b.trim()))==null?void 0:f.filter(b=>b.length>0)})((t==null?void 0:t.business_phrases)||null);return[{title:(t==null?void 0:t.title)||"Bycet Inc."},{name:"description",content:t==null?void 0:t.short_description},{name:"keywords",content:c},{property:"fb:app_id",content:"834713989354015"},{property:"og:url",content:(t==null?void 0:t.website)||"https://bycet.com"},{property:"og:type",content:"website"},{property:"og:title",content:(t==null?void 0:t.title)||"Bycet Business Directory"},{property:"og:description",content:t==null?void 0:t.short_description},{property:"og:image",content:`${i}?v=${l}`},{property:"og:image:secure_url",content:`${i}?v=${l}`},{property:"og:image:type",content:d},{property:"og:image:width",content:"1200"},{property:"og:image:height",content:"630"},{property:"og:image:alt",content:(t==null?void 0:t.title)||"Bycet"},{name:"twitter:site",content:"@bycetinc"},{name:"twitter:creator",content:"@bycetinc"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:(t==null?void 0:t.title)||"Bycet Business Directory"},{name:"twitter:description",content:t==null?void 0:t.short_description},{name:"twitter:image",content:`${i}?v=${l}`},{name:"twitter:image:alt",content:(t==null?void 0:t.title)||"Bycet.com"}]}catch(l){xs(l)}return[]},yt=()=>{const s=_e();let l,t=null,a,i=null,d=null,o,c,n;return l=s.listing,t=s.gallery,a=s.ratingsData,i=s.videoGallery,d=s.products,o=s.profileImageData,c=s.businessProfileBgData,n=s.reportTime,console.log(n),e.jsx(ws,{children:e.jsx(js,{children:e.jsxs(ms,{children:[e.jsx(us,{}),(l==null?void 0:l.gid)!==null&&(l==null?void 0:l.gid)!==void 0&&t&&a&&i&&d&&o&&n&&e.jsx(Ks,{listing:l,images:t,ratingsData:a,videoGallery:i,products:d,profileImageData:o,businessProfileBgData:c,reportTime:n}),l.category!==void 0?e.jsx(Zs,{category:l==null?void 0:l.category,limit:6,title:`Related: ${l==null?void 0:l.category}`,subtitle:"Related based on the same category."}):e.jsx(Ys,{}),e.jsx(ps,{}),e.jsx(fs,{})]})})})};export{yt as default,Nt as meta};

import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{M as n}from"./MainNav-oY7cNyR2.js";import{F as h}from"./FooterAlt-CPMCCmns.js";import{e as p}from"./lib-d-OCgvip.js";import{a as u,u as g,c as f,d as j}from"./components-CqyJs_9b.js";import{F as v}from"./Featured-B7rmBn_0.js";import{S as N}from"./SearchAd-Da6aAfJC.js";import{I as x}from"./InfoCard-Cbl6jrE9.js";import"./index-CTCnFI3k.js";import"./LeftNav-Cj9_gra7.js";import"./AuthContext-BH94oN1s.js";import"./json-YfURXW39.js";import"./RatingBoxInfoCard-C90skG7G.js";function b({pagination:t}){var i;const[c]=u(),a=t.current_page,s=t.total_pages,m=()=>{if(s<=7)return Array.from({length:s},(o,d)=>d+1);const r=[];switch(r.push(1),a){case 1:r.push(2,3,"...",s);break;case 2:r.push(2,3,4,"...",s);break;case 3:r.push(2,3,4,5,"...",s);break;case s-2:r.push("...",s-3,s-2,s-1,s);break;case s-1:r.push("...",s-3,s-2,s-1,s);break;case s:r.push("...",s-2,s-1,s);break;default:r.push("...",a-1,a,a+1,"...",s);break}return r},l=r=>{const o=new URLSearchParams(c);return o.set("page",r.toString()),`?${o.toString()}`};return e.jsxs("div",{className:"flex flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"text-[13px] text-gray-500",children:["Results ",(a-1)*t.items_per_page+1," to"," ",Math.min(a*t.items_per_page,t.total_items)," of"," ",t.total_items]}),e.jsxs("nav",{className:"flex items-center space-x-1",children:[e.jsx("a",{href:t.has_prev_page?l(a-1):"#",className:`px-3 py-2 border rounded-md text-sm font-medium ${t.has_prev_page?"text-gray-700 hover:bg-gray-100":"opacity-50 cursor-not-allowed text-gray-400"}`,"aria-disabled":!t.has_prev_page,onClick:r=>!t.has_prev_page&&r.preventDefault(),children:"Prev"}),(i=m())==null?void 0:i.map((r,o)=>typeof r=="number"?e.jsx("a",{href:l(r),className:`px-3 py-2 border rounded-md text-sm font-medium ${r===a?"bg-blue-500 text-white border-blue-500":"text-gray-700 hover:bg-gray-100"}`,children:r},r):e.jsx("span",{className:"px-3 py-2 text-gray-500",children:r},`ellipsis-${o}`)),e.jsx("a",{href:t.has_next_page?l(a+1):"#",className:`px-3 py-2 border rounded-md text-sm font-medium ${t.has_next_page?"text-gray-700 hover:bg-gray-100":"opacity-50 cursor-not-allowed text-gray-400"}`,"aria-disabled":!t.has_next_page,onClick:r=>!t.has_next_page&&r.preventDefault(),children:"Next"})]})]})}const R=()=>{const{category:t,businesses:c}=g();f(),j();const a=(c==null?void 0:c.data)||[],s=(c==null?void 0:c.pagination)||null;return e.jsxs("div",{children:[e.jsx(n,{}),e.jsx("div",{className:"h-[40px]"}),e.jsx("div",{className:"px-[15px]",children:e.jsxs("div",{className:"max-w-[1200px] mx-auto w-full",children:[e.jsxs("div",{className:"mb-6 text-xl font-light",children:[e.jsxs("div",{children:[e.jsx("b",{className:"text-2xl",children:"Searching for"})," ",e.jsx("span",{className:"text-2xl font-semibold underline capitalize",children:p(t)})]}),e.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:e.jsxs("p",{className:"mt-2 text-gray-600 font-normal text-lg",children:["Explore verified ",e.jsx("b",{className:"font-bold",children:t})," services. View contact info, working hours, and reviews."]})})]}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[e.jsxs("div",{className:" lg:col-span-8",children:[(a==null?void 0:a.length)<=0&&e.jsx("div",{className:"text-lg",children:"No results found."}),a==null?void 0:a.map((m,l)=>{const i=l%4===3;return e.jsx("div",{children:i?e.jsxs(e.Fragment,{children:[e.jsx(x,{item:m,isFirst:l===0},l),e.jsx(N,{})]}):e.jsx(e.Fragment,{children:e.jsx(x,{item:m,isFirst:l===0},l)})},l)}),(a==null?void 0:a.length)>0&&e.jsx("div",{className:"mb-3 mt-6",children:e.jsx(b,{pagination:s})})]}),e.jsx("div",{className:"hidden lg:block col-span-4",children:e.jsx("div",{className:"sticky top-[80px] w-full",children:e.jsx(v,{})})})]})})]})}),e.jsx("div",{className:"h-[60px]"}),e.jsx(h,{})]})};export{R as default};

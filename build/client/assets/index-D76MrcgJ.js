import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{M as n}from"./MainNav-oY7cNyR2.js";import{F as d}from"./FooterAlt-CPMCCmns.js";import"./lib-d-OCgvip.js";import{a as p,u as h,c as u,d as g}from"./components-CqyJs_9b.js";import{F as f}from"./Featured-B7rmBn_0.js";import{S as j}from"./SearchAd-Da6aAfJC.js";import{I as v}from"./InfoCard-Cbl6jrE9.js";import"./index-CTCnFI3k.js";import"./LeftNav-Cj9_gra7.js";import"./AuthContext-BH94oN1s.js";import"./json-YfURXW39.js";import"./RatingBoxInfoCard-C90skG7G.js";function N({pagination:a}){var c;const[l]=p(),t=a.current_page,s=a.total_pages,x=()=>{if(s<=7)return Array.from({length:s},(o,m)=>m+1);const r=[];switch(r.push(1),t){case 1:r.push(2,3,"...",s);break;case 2:r.push(2,3,4,"...",s);break;case 3:r.push(2,3,4,5,"...",s);break;case s-2:r.push("...",s-3,s-2,s-1,s);break;case s-1:r.push("...",s-3,s-2,s-1,s);break;case s:r.push("...",s-2,s-1,s);break;default:r.push("...",t-1,t,t+1,"...",s);break}return r},i=r=>{const o=new URLSearchParams(l);return o.set("page",r.toString()),`?${o.toString()}`};return e.jsxs("div",{className:"flex flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"text-[13px] text-gray-500",children:["Results ",(t-1)*a.items_per_page+1," to"," ",Math.min(t*a.items_per_page,a.total_items)," of"," ",a.total_items]}),e.jsxs("nav",{className:"flex items-center space-x-1",children:[e.jsx("a",{href:a.has_prev_page?i(t-1):"#",className:`px-3 py-2 border rounded-md text-sm font-medium ${a.has_prev_page?"text-gray-700 hover:bg-gray-100":"opacity-50 cursor-not-allowed text-gray-400"}`,"aria-disabled":!a.has_prev_page,onClick:r=>!a.has_prev_page&&r.preventDefault(),children:"Prev"}),(c=x())==null?void 0:c.map((r,o)=>typeof r=="number"?e.jsx("a",{href:i(r),className:`px-3 py-2 border rounded-md text-sm font-medium ${r===t?"bg-blue-500 text-white border-blue-500":"text-gray-700 hover:bg-gray-100"}`,children:r},r):e.jsx("span",{className:"px-3 py-2 text-gray-500",children:r},`ellipsis-${o}`)),e.jsx("a",{href:a.has_next_page?i(t+1):"#",className:`px-3 py-2 border rounded-md text-sm font-medium ${a.has_next_page?"text-gray-700 hover:bg-gray-100":"opacity-50 cursor-not-allowed text-gray-400"}`,"aria-disabled":!a.has_next_page,onClick:r=>!a.has_next_page&&r.preventDefault(),children:"Next"})]})]})}const M=()=>{const{category:a,businesses:l,city:t}=h();u(),g();const s=(l==null?void 0:l.data)||[],x=(l==null?void 0:l.pagination)||null;return e.jsxs("div",{children:[e.jsx(n,{}),e.jsx("div",{className:"h-[40px]"}),e.jsx("div",{className:"px-[15px]",children:e.jsxs("div",{className:"max-w-[1200px] mx-auto w-full",children:[e.jsxs("div",{className:"mb-6 text-xl font-light",children:[e.jsxs("div",{className:"flex flex-row gap-1.5 place-items-center text-2xl",children:[e.jsx("b",{className:"text-2xl",children:"Searching for"}),e.jsx("span",{className:"text-2xl font-semibold capitalize underline",children:a}),e.jsx("span",{children:"in"}),e.jsx("span",{className:"capitalize underline",children:t})]}),e.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:e.jsxs("p",{className:"mt-2 text-gray-600 font-normal text-lg",children:["Explore verified ",e.jsx("b",{className:"font-bold",children:a})," services. View contact info, working hours, and reviews."]})})]}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[e.jsxs("div",{className:" lg:col-span-8",children:[(s==null?void 0:s.length)<=0&&e.jsx("div",{className:"text-lg",children:"No results found."}),s==null?void 0:s.map((i,c)=>{const r=c%4===3;return e.jsx("div",{children:r?e.jsx(e.Fragment,{children:e.jsx(j,{})}):e.jsx(e.Fragment,{children:e.jsx(v,{item:i,isFirst:c===0},c)})},c)}),(s==null?void 0:s.length)>0&&e.jsx("div",{className:"mb-3 mt-6",children:e.jsx(N,{pagination:x})})]}),e.jsx("div",{className:"hidden lg:block col-span-4",children:e.jsx("div",{className:"sticky top-[80px] w-full",children:e.jsx(f,{})})})]})})]})}),e.jsx("div",{className:"h-[60px]"}),e.jsx(d,{})]})};export{M as default};
